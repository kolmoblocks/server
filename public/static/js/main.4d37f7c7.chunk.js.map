{"version":3,"sources":["proto/Server/KBserver.js","index.css","App.css","proto/Server/files sync /^/.*$","proto/Server/files/file1.txt","proto/Server/files/file2.txt","components/Home.js","proto/BrowserScript/KBcache.js","proto/BrowserScript/KBwasm.js","proto/BrowserScript/KBstorage.js","store.js","components/File.js","components/Render.js","components/DataExpr.js","components/DataView.js","components/DataController.js","components/Demo.js","App.js","serviceWorker.js","index.js"],"names":["isBrowser","process","KBserver","cid","jsondata","fetch","API_URL","require","__dirname","console","log","i","data","hasOwnProperty","data_cids","j","Promise","resolve","ref","Uint8Array","Home","Component","KBcache","ref_cache","Map","cid_cache","cached_data","get","server_data","GetDataExpressionByCID","set","GetRawDataByRef","KBWasm","raw_wasm","args","count","result","Array","arg","push","KBstorage","cache","data_expression","ExecExpression","error","expression","_cid","_exec","_ref","_raw","_seq","data_by_cid","data_expressions","ExtractDataExpressions","length","exp_to_exec","ChooseExpression","exec","wasm","index","KBwasm","Exec","raw","utf8str","String","charcode","charCodeAt","seq","MIME","size","data_block","exp","JSON","parse","Object","keys","forEach","key","substr","RawDataInCacheByRef","DataExpressionInCacheByCID","KBStore","cacheProxy","cached","lib","ExpressionInCache","expr","byRef","byCid","GetAndCacheExpr","GenerateData","Execute","stringify","lookupBlock","dum","loadBlock","File","props","selected","renderSelected","map","recipe","TreeWrapper","styled","div","Render","state","rendered","onSelect","file","setState","then","decoded","TextDecoder","decode","type","FitToParent","floatLeft","float","floatRight","maxWidth","floatLeftCenter","position","left","right","DataExpr","executionRes","oldExpr","dataExpr","onSelectExpr","bind","allDepsInCache","stat","obj","forceUpdate","response","onExecuteExpr","onChangeCurExpr","cacheExpression","status","content","floatCenter","DataView","constrainWidth","DataController","curIndex","dataExprStack","rootExpr","onClickBack","getRootExpr","flushDataExprs","newStack","splice","newExpr","concat","executed","curExpr","getCurExpr","Demo","App","isLocalhost","Boolean","window","location","hostname","match","register","config","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","contentType","headers","indexOf","unregister","reload","ReactDOM","render","document","getElementById"],"mappings":";;;;;;;;;;;;AAAA,GAAMA,UAAS,CAAI,MAAOC,QAAP,GAAmB,QAAnB,CAA8B,KAA9B,CAAsC,IAAzD,C,GAEqBC,S,yBAGjB,mBAAa,CAAC,wJACb,C,kfAE4BC,G,uPAIjBC,Q,CAAW,E,KACXJ,S,+CACiBK,MAAK,CAACJ,iDAAA,CAAYK,OAAZ,CAAoB,aAApB,CAAkCH,GAAnC,C,QAAtBC,Q,4CAGAA,QAAQ,CAAGG,mBAAO,CAACC,EAAD,CAAlB,C,YAGAJ,QAAQ,EAAI,I,2BACZK,OAAO,CAACC,GAAR,CAAY,qBAAZ,E,yJAGeN,Q,uEAALO,C,mBAEFC,I,CAAOR,QAAQ,CAACO,CAAD,C,KAEdC,IAAI,CAACC,cAAL,CAAoB,MAApB,C,0BAEGC,S,CAAYF,IAAI,CAAC,MAAD,C,2HACLE,S,uEAALC,C,wBACDD,SAAS,CAACC,CAAD,CAAT,EAAgBZ,G,2DAAaa,OAAO,CAACC,OAAR,CAAgBL,IAAhB,C,yJAMlDH,OAAO,CAACC,GAAR,c,QAGJD,OAAO,CAACC,GAAR,CAAY,yEAAZ,E,gCACOM,OAAO,CAACC,OAAR,CAAgB,IAAhB,C,4hBAIWC,G,qOAGVN,I,CAAO,I,KACPZ,S,iDACaK,MAAK,CAACJ,iDAAA,CAAYK,OAAZ,CAAsB,MAAtB,CAA+BY,GAAhC,C,QAAlBN,I,8CAEAA,IAAI,CAAGL,wBAAQC,IAAA,CAAwBU,GAAzB,CAAd,C,wCAEGF,OAAO,CAACC,OAAR,CAAgB,GAAIE,WAAJ,CAAeP,IAAf,CAAhB,C,+DAEPH,OAAO,CAACC,GAAR,e,QAGJD,OAAO,CAACC,GAAR,CAAY,6CAAZ,E,iCACO,I;;;;;;;;;;;;;;;;AC7Df,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;;ACxBA,iBAAiB,qBAAuB,qC;;;;;;;ACAxC,iBAAiB,qBAAuB,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCElCU,U,wXACK,CACP,MACE,8DADF,CAGD,C,kBALgBC,kB,EAQJD,6DAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;GCRqBE,gB,yBAGjB,kBAAa,CAAC,wDACV,KAAKpB,QAAL,CAAgB,GAAIA,4BAAJ,EAAhB,CACA,KAAKqB,SAAL,CAAiB,GAAIC,IAAJ,EAAjB,CACA,KAAKC,SAAL,CAAiB,GAAID,IAAJ,EAAjB,CACH,C,oHAEsBrB,G,CACvB,CACI,GAAIuB,YAAW,CAAG,KAAKD,SAAL,CAAeE,GAAf,CAAmBxB,GAAnB,CAAlB,CAEA,GAAK,MAAQuB,WAAb,CACA,CACI,GAAIE,YAAW,CAAG,KAAK1B,QAAL,CAAc2B,sBAAd,CAAqC1B,GAArC,CAAlB,CACA,GAAK,MAAQyB,WAAb,CACA,CACI,KAAKH,SAAL,CAAeK,GAAf,CAAmB3B,GAAnB,CAAwByB,WAAxB,EACA,MAAOA,YAAP,CACH,CACJ,CAED,MAAOF,YAAP,CACH,C,wDAEeR,G,CAChB,CACI,GAAIQ,YAAW,CAAG,KAAKH,SAAL,CAAeI,GAAf,CAAmBT,GAAnB,CAAlB,CAEA,GAAK,MAAQQ,WAAb,CACA,CACI,GAAIE,YAAW,CAAG,KAAK1B,QAAL,CAAc6B,eAAd,CAA8Bb,GAA9B,CAAlB,CACA,GAAK,MAAQU,WAAb,CACA,CACI,KAAKL,SAAL,CAAeO,GAAf,CAAmBZ,GAAnB,CAAwBU,WAAxB,EACA,MAAOA,YAAP,CACH,CACJ,CAED,MAAOF,YAAP,CACH,C,8EAE0BvB,G,CAC3B,CACI,GAAIuB,YAAW,CAAG,KAAKD,SAAL,CAAeE,GAAf,CAAmBxB,GAAnB,CAAlB,CAEA,GAAK,MAAQuB,WAAb,CACI,MAAO,MAAP,CADJ,IAGI,OAAO,KAAP,CACP,C,gEAEmBR,G,CACpB,CACI,GAAIQ,YAAW,CAAG,KAAKH,SAAL,CAAeI,GAAf,CAAmBT,GAAnB,CAAlB,CAEA,GAAK,MAAQQ,WAAb,CACI,MAAO,MAAP,CADJ,IAGI,OAAO,KAAP,CACP,C;;GC/DgBM,c,yBAEjB,gBAAYC,QAAZ,CAAsBC,IAAtB,CACA,CAAC,uDACG,KAAKD,QAAL,CAAgBA,QAAhB,CACA,KAAKC,IAAL,CAAYA,IAAZ,CACH,C,gFAID,CACI;AACA,GAAIC,MAAK,CAAG,CAAZ,CACA,GAAIC,OAAM,CAAG,GAAIC,MAAJ,EAAb,CAEA,IAAM,GAAI1B,EAAV,GAAe,MAAKuB,IAApB,CACA,CACI,GAAII,IAAG,CAAG,KAAKJ,IAAL,CAAUvB,CAAV,CAAV,CACA,IAAM,GAAII,EAAV,GAAeuB,IAAf,CACA,CACI,GAAMvB,CAAC,EAAI,MAAP,EAAqBA,CAAC,EAAI,MAA9B,CACI,SAEJqB,MAAM,CAACG,IAAP,CAAYD,GAAG,CAACvB,CAAD,CAAf,EACAoB,KAAK,GACR,CACJ,CAEDC,MAAM,CAAC,MAAD,CAAN,CAAiB,WAAjB,CACAA,MAAM,CAAC,MAAD,CAAN,CAAiBD,KAAjB,CAEA,MAAOC,OAAP,CACH,C;;GC5BgBI,oB,yBAEjB,oBACA,CAAC,0DACE;AACC/B,OAAO,CAACC,GAAR,CAAYY,eAAZ,EACA,KAAKmB,KAAL,CAAa,GAAInB,gBAAJ,EAAb,CACH,C,wFAEOoB,e,CACR,CACIjC,OAAO,CAACC,GAAR,CAAYgC,eAAZ,EACA,GAAI,CACA,MAAO1B,QAAO,CAACC,OAAR,CAAgB,KAAK0B,cAAL,CAAoBD,eAApB,CAAhB,CAAP,CACH,OAAME,KAAN,CAAY,CACTnC,OAAO,CAACC,GAAR,CAAY,qCAAZ,CAAmDkC,KAAnD,EACH,CAED,MAAO5B,QAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP,CACH,C,sDAEc4B,U,CACf,CACI,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACI,MAAO,MAAKiC,IAAL,CAAUD,UAAV,CAAP,CAEJ,GAAKA,UAAU,CAAChC,cAAX,CAA0B,MAA1B,CAAL,CACI,MAAO,MAAKkC,KAAL,CAAWF,UAAX,CAAP,CAEJ,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACI,MAAO,MAAKmC,IAAL,CAAUH,UAAV,CAAP,CAEJ,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACI,MAAO,MAAKoC,IAAL,CAAUJ,UAAV,CAAP,CAEJ,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACI,MAAO,MAAKqC,IAAL,CAAUL,UAAV,CAAP,CAEJpC,OAAO,CAACC,GAAR,CAAY,6CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYmC,UAAZ,EAEA,MAAO,KAAP,CACH,C,kCAEIA,U,CACL,CACI,GAAIM,YAAW,CAAG,KAAKV,KAAL,CAAWZ,sBAAX,CAAkCgB,UAAU,CAAC,KAAD,CAA5C,CAAlB,CAEA,GAAIO,iBAAgB,CAAG,KAAKC,sBAAL,CAA4BF,WAA5B,CAAvB,CAEA,GAAK,GAAKC,gBAAgB,CAACE,MAA3B,CACA,CACI7C,OAAO,CAACC,GAAR,CAAY,8BAAgCmC,UAAU,CAAC,KAAD,CAAtD,EACA,MAAO,KAAP,CACH,CAED,GAAIU,YAAW,CAAG,KAAKC,gBAAL,CAAsBJ,gBAAtB,CAAlB,CAEA,MAAO,MAAKT,cAAL,CAAoBY,WAApB,CAAP,CACH,C,oCAEKV,U,CACN,CACI,GAAIY,KAAI,CAAGZ,UAAU,CAAC,MAAD,CAArB,CAEA,GAAK,CAACY,IAAI,CAAC5C,cAAL,CAAoB,MAApB,CAAN,CACA,CACIJ,OAAO,CAACC,GAAR,CAAY,8CAAZ,EACA,MAAO,KAAP,CACH,CAED,GAAIgD,KAAI,CAAG,KAAKf,cAAL,CAAoBc,IAAI,CAAC,MAAD,CAAxB,CAAX,CACA,GAAK,MAAQC,IAAb,CACA,CACIjD,OAAO,CAACC,GAAR,CAAY,gCAAZ,EACA,MAAO,KAAP,CACH,CAED,GAAIwB,KAAI,CAAG,GAAIG,MAAJ,EAAX,CAEA,IAAM,GAAIsB,MAAV,GAAmBF,KAAnB,CACA,CACI,GAAK,QAAUE,KAAf,CACI,SAEJ,GAAIrB,IAAG,CAAG,KAAKK,cAAL,CAAoBc,IAAI,CAACE,KAAD,CAAxB,CAAV,CACA,GAAK,MAAQrB,GAAb,CACA,CACI7B,OAAO,CAACC,GAAR,CAAY,+BAAZ,EACA,MAAO,KAAP,CACH,CAEDwB,IAAI,CAACK,IAAL,CAAUD,GAAV,EACH,CAED,GAAIF,OAAM,CAAG,GAAIwB,cAAJ,CAAWF,IAAX,CAAiBxB,IAAjB,EAAuB2B,IAAvB,EAAb,CAEA,GAAK,MAAQzB,MAAb,CACA,CACI3B,OAAO,CAACC,GAAR,CAAY,gCAAZ,EACA,MAAO,KAAP,CACH,CAED,MAAO0B,OAAP,CACH,C,kCAEIS,U,CACL,CACI,GAAI3B,IAAG,CAAG2B,UAAU,CAAC,KAAD,CAApB,CAEA,GAAIT,OAAM,CAAG,KAAKK,KAAL,CAAWV,eAAX,CAA2Bb,GAA3B,CAAb,CAEA,GAAK,MAAQkB,MAAb,CACA,CACI3B,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACA,MAAO,KAAP,CACH,CAED0B,MAAM,CAAC,MAAD,CAAN,CAAiBS,UAAU,CAAC,MAAD,CAA3B,CACAT,MAAM,CAAC,MAAD,CAAN,CAAiBS,UAAU,CAAC,MAAD,CAA3B,CAEA,MAAOT,OAAP,CACH,C,kCAEIS,U,CACL,CACI,GAAIiB,IAAG,CAAGjB,UAAU,CAAC,KAAD,CAApB,CAEA,GAAIkB,QAAO,CAAGC,MAAM,CAACF,GAAD,CAApB,CAA2B;AAE3B,GAAI1B,OAAM,CAAG,GAAIC,MAAJ,EAAb,CAEA,IAAM,GAAI1B,EAAC,CAAC,CAAZ,CAAeA,CAAC,CAAGoD,OAAO,CAACT,MAA3B,CAAmC3C,CAAC,EAApC,CAAyC,CAErC,GAAIsD,SAAQ,CAAGF,OAAO,CAACG,UAAR,CAAmBvD,CAAnB,CAAf,CAEAyB,MAAM,CAACG,IAAP,CAAa0B,QAAb,EAAyB;AAC5B,CAED,MAAO7B,OAAP,CACH,C,kCAEIS,U,CACL,CACI,GAAIT,OAAM,CAAG,GAAIC,MAAJ,EAAb,CACA,GAAI8B,IAAG,CAAGtB,UAAU,CAAC,KAAD,CAApB,CAEA,GAAIuB,KAAI,CAAGvB,UAAU,CAAC,MAAD,CAArB,CACA,GAAIwB,KAAI,CAAGxB,UAAU,CAAC,MAAD,CAArB,CAEA,IAAM,GAAIc,MAAV,GAAmBQ,IAAnB,CACA,CACI,GAAItB,YAAU,CAAGsB,GAAG,CAACR,KAAD,CAApB,CAEA,GAAIW,WAAU,CAAG,KAAK3B,cAAL,CAAoBE,WAApB,CAAjB,CAEA,GAAK,MAAQyB,UAAb,CACA,CACI7D,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACA,MAAO,KAAP,CACH,CAED,IAAM,GAAIC,EAAV,GAAe2D,WAAf,EACIlC,MAAM,CAACG,IAAP,CAAY+B,UAAU,CAAC3D,CAAD,CAAtB,EADJ,CAEH,CAEDyB,MAAM,CAAC,MAAD,CAAN,CAAiBgC,IAAjB,CACAhC,MAAM,CAAC,MAAD,CAAN,CAAiBiC,IAAjB,CAEA,MAAOjC,OAAP,CACH,C,sEAEsBe,W,CACvB,CACI,GAAIf,OAAM,CAAG,GAAIC,MAAJ,EAAb,CACA,GAAI+B,KAAI,CAAGjB,WAAW,CAAC,MAAD,CAAtB,CACA,GAAIkB,KAAI,CAAGlB,WAAW,CAAC,MAAD,CAAtB,CAEA,IAAM,GAAIQ,MAAV,GAAmBR,YAAnB,CACA,CACI,GAAM,QAAUQ,KAAZ,EAAyB,QAAUA,KAAnC,EAA+C,QAAUA,KAA7D,CACI,SAEJ,GAAId,WAAU,CAAGM,WAAW,CAACQ,KAAD,CAA5B,CAEAd,UAAU,CAAC,MAAD,CAAV,CAAqBuB,IAArB,CACAvB,UAAU,CAAC,MAAD,CAAV,CAAqBwB,IAArB,CAEA,GAAKxB,UAAU,CAAChC,cAAX,CAA0B,MAA1B,CAAL,CACA,CACIuB,MAAM,CAACG,IAAP,CAAYM,UAAZ,EACA,SACH,CAED,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACIuB,MAAM,CAACG,IAAP,CAAYM,UAAZ,EACA,SACH,CAED,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACIuB,MAAM,CAACG,IAAP,CAAYM,UAAZ,EACA,SACH,CAED,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACIuB,MAAM,CAACG,IAAP,CAAYM,UAAZ,EACA,SACH,CAED,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACIuB,MAAM,CAACG,IAAP,CAAYM,UAAZ,EACA,SACH,CACJ,CAED,MAAOT,OAAP,CACH,C,0DAEgBgB,gB,CACjB,CACI;AACA,MAAOA,iBAAgB,CAAC,CAAD,CAAvB,CACH,C,sEAEsBjD,G,CAAK,CACxB,MAAO,MAAKsC,KAAL,CAAWZ,sBAAX,CAAkC1B,GAAlC,CAAP,CACH,C,wDAEeoE,G,CAChB,CACI,GAAG,CACC,GAAI1B,WAAU,CAAG2B,IAAI,CAACC,KAAL,CAAWF,GAAX,CAAjB,CAEA,GAAInC,OAAM,CAAG,GAAIsC,OAAJ,EAAb,CAEA,GAAK7B,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACI,GAAIsC,YAAW,CAAG,KAAKV,KAAL,CAAWZ,sBAAX,CAAkCgB,UAAU,CAAC,KAAD,CAA5C,CAAlB,CACA,GAAIO,iBAAgB,CAAG,KAAKC,sBAAL,CAA4BF,WAA5B,CAAvB,CACAuB,MAAM,CAACC,IAAP,CAAYxB,WAAZ,EAAyByB,OAAzB,CAAiC,SAASC,GAAT,CAAc,CAC3C,GAAIA,GAAG,CAACC,MAAJ,CAAW,CAAX,CAAa,EAAb,GAAoB,iBAAxB,CAA2C,CACvC1C,MAAM,CAACyC,GAAD,CAAN,CAAc1B,WAAW,CAAC0B,GAAD,CAAzB,CACApE,OAAO,CAACC,GAAR,CAAYmE,GAAZ,EACH,CACDpE,OAAO,CAACC,GAAR,CAAYmE,GAAZ,EACH,CAND,EAOApE,OAAO,CAACC,GAAR,CAAY0B,MAAZ,EACAA,MAAM,CAAC,kBAAD,CAAN,CAA6BgB,gBAA7B,CACH,CAED,GAAKP,UAAU,CAAChC,cAAX,CAA0B,MAA1B,CAAL,CACA,CACI,GAAI4C,KAAI,CAAGZ,UAAU,CAAC,MAAD,CAArB,CACA,IAAM,GAAIlC,EAAV,GAAe8C,KAAf,EACIrB,MAAM,CAACG,IAAP,CAAYkB,IAAI,CAAC9C,CAAD,CAAhB,EADJ,CAEH,CAED,GAAKkC,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACI;AACA;AACH,CAED,GAAKgC,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACI,GAAIiD,IAAG,CAAGjB,UAAU,CAAC,KAAD,CAApB,CACAT,MAAM,CAACG,IAAP,CAAYuB,GAAZ,EACH,CAED,GAAKjB,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACA,CACI,GAAIsD,IAAG,CAAGtB,UAAU,CAAC,KAAD,CAApB,CACA,IAAM,GAAIlC,EAAV,GAAewD,IAAf,EACI/B,MAAM,CAACG,IAAP,CAAY4B,GAAG,CAACxD,CAAD,CAAf,EADJ,CAEH,CAED,MAAOyB,OAAP,CAEH,OAAMQ,KAAN,CAAY,CACTnC,OAAO,CAACC,GAAR,CAAYkC,KAAZ,EACA,MAAO,KAAP,CACH,CAEJ,C,4DAEiBC,U,CAClB,CACI,GAAG,CAEC,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACI,MAAO,MAAK4B,KAAL,CAAWsC,mBAAX,CAA+BlC,UAAU,CAAC,KAAD,CAAzC,CAAP,CAEJ,GAAKA,UAAU,CAAChC,cAAX,CAA0B,KAA1B,CAAL,CACI,MAAO,MAAK4B,KAAL,CAAWuC,0BAAX,CAAsCnC,UAAU,CAAC,KAAD,CAAhD,CAAP,CAEP,OAAMD,KAAN,CAAY,CACT,MAAO,MAAP,CACH,CAED,MAAO,MAAP,CACH,C;;AClTL,GAAMqC,QAAO,CAAG,GAAIzC,oBAAJ,EAAhB,CACA,GAAI0C,WAAU,CAAG,CACb,mDACI,mEAAqE,CAAEC,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CADzE,CAEI,mEAAqE,CAAEuE,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CAFzE,CAGI,gBAAkB,CAAEuE,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CAHtB,CAII,mEAAqE,CAAEuE,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CAJzE,qEAKyE,CAAEuE,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CALzE,CADa,CAQb,QAAU,CACN,YAAc,CAAEuE,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CADR,CAEN,YAAc,CAAEuE,MAAM,CAAG,KAAX,CAAkBvE,IAAI,CAAE,IAAxB,CAFR,CARG,CAAjB,CAcA,GAAMwE,IAAG,CAAG,CACR,cAAgB,CAEZ,OAAW,WAFC,CAGlB,OAAW,EAHO,CAKZ,OAAS,CACL,SAAW,kEADN,CALG,CASZ,mBAAqB,CACrB,CACI,OAAS,CACL,OAAS,CACL,MAAQ,eADH,CADJ,CAIL,OAAS,CACL,MAAQ,kEADH,CAJJ,CAOL,OAAS,CACL,MAAQ,kEADH,CAPJ,CADb,CADqB,CAcrB,CACI,MAAQ,CACJ,SAAW,CACP,MAAQ,kEADD,CADP,CAIJ,SAAW,CACP,MAAQ,kEADD,CAJP,CADZ,CAdqB,CATT,CADR,CAqCR,QAAU,CAEN,OAAW,WAFL,CAGZ,OAAW,CAHC,CAKN,OAAS,CACL,SAAW,kEADN,CALH,CASN,mBAAqB,CAAC,CAClB,MAAQ,WADU,CAAD,CATf,CArCF,CAoDR,SAAW,CAEP,OAAW,WAFJ,CAGb,OAAW,CAHE,CAKP,OAAS,CACL,SAAW,kEADN,CALF,CASP,mBAAqB,CAAC,CAClB,MAAQ,WADU,CAAD,CATd,CApDH,CAmER,cAAgB,CAEZ,OAAW,MAFC,CAGZ,OAAW,KAHC,CAKZ,OAAS,CACL,SAAW,eADN,CALG,CASZ,mBAAqB,CAAC,CAClB,MAAQ,qBADU,CAAD,CATT,CAnER,CAAZ,CAoFO,QAASC,kBAAT,CAA2BC,IAA3B,CAAiC,CACpC,GAAIA,IAAI,CAACzE,cAAL,CAAoB,KAApB,CAAJ,CAAgC,CAC5B,MAAOqE,WAAU,CAACK,KAAX,CAAiBD,IAAI,CAAC,KAAD,CAArB,EAA8BH,MAArC,CACH,CAFD,IAGK,IAAIG,IAAI,CAACzE,cAAL,CAAoB,KAApB,CAAJ,CAAgC,CACjC,MAAOqE,WAAU,CAACM,KAAX,CAAiBF,IAAI,CAAC,KAAD,CAArB,EAA8BH,MAArC,CACH,CAFI,IAGA,IAAIG,IAAI,CAACzE,cAAL,CAAoB,MAApB,CAAJ,CAAiC,CAClC,MAAOqE,WAAU,CAACM,KAAX,CAAiBF,IAAI,CAAC,MAAD,CAAJ,CAAa,QAAb,CAAjB,EAAyCH,MAAhD,CACH,CACD1E,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACH,CAEM,QAAe+E,gBAAtB,oD,iIAAO,iBAA+BH,IAA/B,wHACCA,IAAI,CAACzE,cAAL,CAAoB,KAApB,CADD,yBAECqE,UAAU,CAACK,KAAX,CAAiBD,IAAI,CAAC,KAAD,CAArB,EAA8BH,MAA9B,CAAuC,IAAvC,CACAD,UAAU,CAACK,KAAX,CAAiBD,IAAI,CAAC,KAAD,CAArB,EAA8B1E,IAA9B,CAAqCmB,eAAe,CAACuD,IAAI,CAAC,KAAD,CAAL,CAApD,CAHD,kCAKMA,IAAI,CAACzE,cAAL,CAAoB,KAApB,CALN,sCAM8D6E,YAN9D,uBAMiF7D,uBAAsB,CAACyD,IAAI,CAAC,KAAD,CAAL,CANvG,wHAMCJ,UAAU,CAACM,KAAX,CAAiBF,IAAI,CAAC,KAAD,CAArB,CAND,EAMmCH,MANnC,CAM4C,IAN5C,CAMkDvE,IANlD,0E,kDAUA,QAAeiB,uBAAtB,4D,+IAAO,kBAAsC1B,GAAtC,6HAECA,GAAG,EAAI,kEAFR,4DAGQiF,GAAG,CAAC,aAAD,CAHX,cAKMjF,GAAG,EAAI,kEALb,4DAMQiF,GAAG,CAAC,OAAD,CANX,cAQMjF,GAAG,EAAI,kEARb,6DASQiF,GAAG,CAAC,QAAD,CATX,eAWMjF,GAAG,EAAI,eAXb,6DAYQiF,GAAG,CAAC,aAAD,CAZX,UAeC3E,OAAO,CAACC,GAAR,CAAY,8BAAZ,EACAD,OAAO,CAACC,GAAR,CAAYP,GAAZ,EAhBD,8D,yDAoBQ,QAAS4B,gBAAT,CAAyBb,GAAzB,CAA8B,CACzC,GAAIA,GAAG,GAAK,WAAZ,CAAyB,MAAO,OAAP,CAAzB,IACK,IAAIA,GAAG,GAAK,WAAZ,CAAyB,MAAO,QAAP,CAAzB,IACA,CACD,MAAO,aAAP,CACH,CACJ,CAEM,QAAewE,aAAtB,kD,2HAAO,kBAA4BJ,IAA5B,6HACCA,IAAI,EAAIF,GAAG,CAAC,aAAD,CADZ,2BAEC3E,OAAO,CAACC,GAAR,CAAY,OAAZ,EAFD,iCAGQ,aAHR,cAKM4E,IAAI,EAAIF,GAAG,CAAC,OAAD,CALjB,4DAMQ,OANR,cAQME,IAAI,EAAIF,GAAG,CAAC,QAAD,CARjB,6DASQ,QATR,gE,+CAWN,CAEM,QAASO,QAAT,CAAiBL,IAAjB,CAAuB,CAC1B;AACA,GAAId,IAAI,CAACoB,SAAL,CAAeN,IAAf,IAAyBd,IAAI,CAACoB,SAAL,CAAeR,GAAG,CAAC,aAAD,CAAH,CAAmB,kBAAnB,EAAuC,CAAvC,CAAf,CAAzB,EAAsFZ,IAAI,CAACoB,SAAL,CAAeN,IAAf,IAAyBd,IAAI,CAACoB,SAAL,CAAeR,GAAG,CAAC,aAAD,CAAH,CAAmB,kBAAnB,EAAuC,CAAvC,CAAf,CAAnH,CAA8K,CAC1K,MAAO,aAAP,CACH,CAFD,IAGK,IAAIE,IAAI,EAAIF,GAAG,CAAC,OAAD,CAAH,CAAa,kBAAb,EAAiC,CAAjC,CAAZ,CAAiD,MAAO,OAAP,CAAjD,IACA,IAAIE,IAAI,EAAIF,GAAG,CAAC,QAAD,CAAH,CAAc,kBAAd,EAAkC,CAAlC,CAAZ,CAAkD,MAAO,QAAP,CAAlD,IACA,IAAIE,IAAI,EAAIF,GAAG,CAAC,aAAD,CAAH,CAAmB,kBAAnB,EAAuC,CAAvC,CAAZ,CAAuD,MAAO,iBAAP,CAC5D3E,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC4E,IAApC,EACH,CAEM,QAAeO,YAAtB,iD,yHAAO,kBAA2BC,GAA3B,yJACI,IADJ,+D,8CAIA,QAAeC,UAAtB,+CAKA;AACA;AACA;AACA;qHARO,kBAAyBD,GAAzB,yJACI,IADJ,+D;;AC/KP,GAAME,UAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,IACZC,SADY,CACiBD,KADjB,CACZC,QADY,CACFC,cADE,CACiBF,KADjB,CACFE,cADE,CAEpB1F,OAAO,CAACC,GAAR,CAAYyF,cAAZ,EACA,MACI,sCAAK,SAAS,CAAC,WAAf,EACI,qCAAK,SAAS,CAAC,MAAf,EACI,qCAAK,EAAE,CAAC,cAAR,CAAuB,SAAS,CAAC,WAAjC,EACI,qCAAK,SAAS,CAAC,qBAAf,EACK3B,IAAI,CAACoB,SAAL,CAAeM,QAAf,CAAyB,IAAzB,CAA+B,CAA/B,CADL,CADJ,CAKKA,QAAQ,CAAC,aAAD,CAAR,CACGvB,cAAI,CAACuB,QAAQ,CAAC,aAAD,CAAT,CAAJ,CAA8BE,GAA9B,CAAkC,SAACC,MAAD,CAAS1F,CAAT,QAC9B,yCAAQ,IAAI,CAAC,QAAb,CACQ,SAAS,CAAC,qBADlB,CAEQ,OAAO,CAAE,yBAAMwF,eAAc,CAACD,QAAQ,CAAC,aAAD,CAAR,CAAwBG,MAAxB,CAAD,CAApB,EAFjB,sBAG2B1F,CAH3B,CAD8B,EAAlC,CADH,CAMK,wCAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,eAXV,CADJ,CADJ,CADJ,CAoBH,CAvBD,CAyBeqF,6DAAf,E;;oLCzBA,GAAMM,YAAW,CAAGC,gDAAM,CAACC,GAAV,mBAAjB,C,GAIqBC,c,ueACnBC,K,CAAQ,CACNR,QAAQ,CAAE,IADJ,CAENS,QAAQ,CAAE,IAFJ,C,OAKRC,Q,CAAW,SAACC,IAAD,CAAU,CACnB,MAAKC,QAAL,CAAc,CAAEZ,QAAQ,CAAEW,IAAZ,CAAd,EACD,C,OAEFV,c,CAAiB,SAACE,MAAD,CAAY,CAC3B5F,OAAO,CAACC,GAAR,CAAY2F,MAAZ,EACCN,SAAS,CAACM,MAAD,CAAT,CAAkBU,IAAlB,CAAuB,SAACnG,IAAD,CAAU,CAC/B,GAAIoG,QAAO,CAAG,GAAIC,YAAJ,CAAgB,OAAhB,EAAyBC,MAAzB,CAAgCtG,IAAhC,CAAd,CACAH,OAAO,CAACC,GAAR,CAAYsG,OAAZ,EACA,MAAKF,QAAL,CAAc,CAACH,QAAQ,CAAEK,OAAX,CAAd,CAAmC,UAAI,CAACvG,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,CAAjE,EACD,CAJD,EAKD,C,mGAEQ,iBACwB,KAAKgG,KAD7B,CACCR,QADD,aACCA,QADD,CACWS,QADX,aACWA,QADX,CAEP,MACA,sCAAK,SAAS,CAAC,WAAf,EACE,qCAAK,SAAS,CAAC,KAAf,EACE,qCAAK,SAAS,CAAC,QAAf,EACE,qCAAK,EAAE,CAAC,kBAAR,CAA2B,SAAS,CAAC,WAArC,EACIA,QAAQ,CAAGA,QAAH,CAAc,4EAD1B,CADF,CADF,CADF,CAQE,qCAAK,SAAS,CAAC,KAAf,EACE,qCAAK,SAAS,CAAC,iBAAf,EACE,8BAAC,WAAD,MADF,CADF,CAKE,qCAAK,SAAS,CAAC,iBAAf,EACGT,QAAQ,EAAIA,QAAQ,CAACiB,IAAT,GAAkB,MAA9B,CACC,8BAAC,eAAD,EAAM,cAAc,CAAE,KAAKhB,cAA3B,CAA2C,QAAQ,CAAED,QAArD,EADD,CAEG,wEAHN,CALF,CARF,CADA,CAuBD,C,oBA5CiC7E,kB;;;;;;;;;;;4TCNsC;AAG1E,GAAM+F,YAAW,CAAGb,gDAAM,CAACC,GAAV,2BAAjB,CASA,GAAMa,UAAS,CAAG,CACdC,KAAK,CAAE,MADO,CAAlB,CAGA,GAAMC,WAAU,CAAG,CACfD,KAAK,CAAE,OADQ,CAEfE,QAAQ,CAAE,KAFK,CAAnB,CAKA,GAAMC,gBAAe,CAAG,CACpBC,QAAQ,CAAE,UADU,CAEpBC,IAAI,CAAE,KAFc,CAGpBC,KAAK,CAAE,KAHa,CAAxB,C,GAMqBC,kB,4FACjB,kBAAY5B,KAAZ,CAAmB,oEACf,8HAAMA,KAAN,GACA,MAAKS,KAAL,CAAa,CACToB,YAAY,CAAG,IADN,CAETC,OAAO,CAAE9B,KAAK,CAAC+B,QAFN,CAAb,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,2GAApB,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,2GAAtB,CAPe,aAQlB,C,8GAEoB,CACjB,GAAI,KAAKjC,KAAL,CAAW+B,QAAX,EAAuB,KAAKtB,KAAL,CAAWqB,OAAtC,CAA+C,CAC3C,KAAKjB,QAAL,CAAc,CACVgB,YAAY,CAAG,IADL,CAEVC,OAAO,CAAG,KAAK9B,KAAL,CAAW+B,QAFX,CAAd,EAGH,CACJ,C,uDAEgB,iBACb,GAAIb,KAAI,CAAGzC,MAAM,CAACC,IAAP,CAAY,KAAKsB,KAAL,CAAW+B,QAAvB,EAAiC,CAAjC,CAAX,CACA,GAAII,KAAI,CAAG,IAAX,CACA1D,MAAM,CAACC,IAAP,CAAY,KAAKsB,KAAL,CAAW+B,QAAX,CAAoBb,IAApB,CAAZ,EAAuCvC,OAAvC,CACI,SAACC,GAAD,CAAMlB,KAAN,CAAgB,CACZ,GAAI0E,IAAG,CAAG7D,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACoB,SAAL,CAAe,MAAI,CAACK,KAAL,CAAW+B,QAAX,CAAoBb,IAApB,EAA0BtC,GAA1B,CAAf,CAAX,CAAV,CACA,GAAI,CAACQ,iBAAiB,CAACgD,GAAD,CAAtB,CAA6B,CACzBD,IAAI,CAAG,KAAP,CACH,CACJ,CANL,EAQA,MAAOA,KAAP,CACH,C,oKAEqB9C,I,0IACZG,gBAAe,CAACH,IAAD,C,QACrB,KAAKgD,WAAL,G,mUAGeN,Q,qIACf;AACIO,Q,CAAW,E,KACX,KAAKJ,cAAL,E,iDACM,MAAKlC,KAAL,CAAWuC,aAAX,CAAyBR,QAAzB,C,QACNO,QAAQ,CAAC,SAAD,CAAR,CAAsB,mCAAtB,CACAA,QAAQ,CAAC,QAAD,CAAR,CAAqB,SAArB,C,+BAGAA,QAAQ,CAAC,QAAD,CAAR,CAAqB,QAArB,CACAA,QAAQ,CAAC,SAAD,CAAR,CAAsB,oCAAtB,C,QAEJ9H,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqB6H,QAArB,EACA,KAAKzB,QAAL,CAAc,CAACgB,YAAY,CAAGS,QAAhB,CAAd,E,sMAGK,iCAC+B,KAAKtC,KADpC,CACC+B,QADD,aACCA,QADD,CACWS,eADX,aACWA,eADX,CAEL,GAAItB,KAAI,CAAGzC,MAAM,CAACC,IAAP,CAAYqD,QAAZ,EAAsB,CAAtB,CAAX,CAEA,MACI,sCAAK,SAAS,CAAC,WAAf,EACI,qCAAK,SAAS,CAAC,aAAf,EACI,sCAAM,KAAK,CAAEX,SAAb,sBAA0C7C,IAAI,CAACoB,SAAL,CAAeuB,IAAf,CAA1C,CADJ,CAEI,mCAAG,SAAS,CAAC,MAAb,CAAoB,KAAK,CAAEE,SAA3B,CAAsC,IAAI,CAAC,GAA3C,CAA+C,OAAO,CAAE,yBAAM,OAAI,CAACY,YAAL,CAAkBD,QAAlB,CAAN,EAAxD,EACI,8BAAC,yBAAD,MADJ,CAFJ,CADJ,CAQI,qCAAK,SAAS,CAAC,WAAf,EACI,oCAAI,SAAS,CAAC,6BAAd,EACKA,QAAQ,CAAC,KAAD,CAAR,CAAkBA,QAAQ,CAAC,KAAD,CAA1B,CACGtD,MAAM,CAACC,IAAP,CAAYqD,QAAQ,CAACb,IAAD,CAApB,EAA4Bf,GAA5B,CAAgC,SAACvB,GAAD,CAAMlB,KAAN,QAC5B,qCAAI,SAAS,CAAC,iBAAd,EACI,qCAAK,KAAK,CAAE0D,SAAZ,EAAwB7C,IAAI,CAACoB,SAAL,CAAef,GAAf,CAAxB,CADJ,CAEI,qCAAK,KAAK,CAAE4C,eAAZ,MAFJ,CAGI,mCAAG,SAAS,CAAC,MAAb,CAAoB,IAAI,CAAC,GAAzB,CAA6B,KAAK,CAAEF,UAApC,CAAgD,OAAO,CAAE,yBAAM,OAAI,CAACmB,eAAL,CAAqBV,QAAQ,CAACb,IAAD,CAAR,CAAetC,GAAf,CAArB,CAAN,EAAzD,EACKQ,iBAAiB,CAAC2C,QAAQ,CAACb,IAAD,CAAR,CAAetC,GAAf,CAAD,CAAjB,CAAyC,8BAAC,yBAAD,MAAzC,CAA0D,8BAAC,6BAAD,MAD/D,CAHJ,CAMI,mCAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAE,yBAAM4D,gBAAe,CAACT,QAAQ,CAACb,IAAD,CAAR,CAAetC,GAAf,EAAoB,KAApB,CAAD,CAArB,EAArB,CAAwE,KAAK,CAAE0C,UAA/E,EACI,8BAAC,WAAD,MACKS,QAAQ,CAACb,IAAD,CAAR,CAAetC,GAAf,EAAoB,KAApB,CADL,CADJ,CANJ,CAD4B,EAAhC,CAFR,CADJ,CARJ,CA6BK,KAAK6B,KAAL,CAAWoB,YAAX,CACD,qCAAK,SAAS,CAAE,kBAAkB,KAAKpB,KAAL,CAAWoB,YAAX,CAAwBa,MAA1D,EACI,qCAAK,SAAS,CAAE,sBAAhB,EACK,KAAKjC,KAAL,CAAWoB,YAAX,CAAwBc,OAD7B,CADJ,CADC,CAMC,EAnCN,CADJ,CAuCH,C,sBAjGiCvH,kB;;AC1BsC;AAG5E,GAAMgG,mBAAS,CAAG,CACdC,KAAK,CAAE,MADO,CAAlB,CAGA,GAAMC,oBAAU,CAAG,CACfD,KAAK,CAAE,OADQ,CAAnB,CAIA,GAAMuB,YAAW,CAAG,CAChBnB,QAAQ,CAAE,UADM,CAEhBC,IAAI,CAAE,KAFU,CAGhBC,KAAK,CAAE,KAHS,CAApB,C,GAMqBkB,kB,4FACjB,kBAAY7C,KAAZ,CAAmB,CAAC,wLACVA,KADS,GAGlB,C,sFAEQ,gCAC2B,KAAKA,KADhC,CACCX,IADD,aACCA,IADD,CACOmD,eADP,aACOA,eADP,CAEL,MACI,sCAAK,SAAS,CAAC,WAAf,EACI,oCAAI,SAAS,CAAC,6BAAd,EACK/D,MAAM,CAACC,IAAP,CAAYW,IAAZ,EAAkBc,GAAlB,CAAsB,SAACvB,GAAD,CAAMlB,KAAN,QACnBkB,IAAG,EAAI,MAAP,EAAiBA,GAAG,EAAI,kBAAxB,CAA6C,EAA7C,CACI,oCAAI,KAAK,CAAC,iBAAV,EACI,qCAAK,KAAK,CAAEwC,kBAAZ,EAAwB7C,IAAI,CAACoB,SAAL,CAAef,GAAf,CAAxB,CADJ,CAEI,qCAAK,KAAK,CAAEgE,WAAZ,MAFJ,CAGI,qCAAK,KAAK,CAAEtB,mBAAZ,EAAyBjC,IAAI,CAACT,GAAD,CAA7B,CAHJ,CAFe,EAAtB,CADL,CADJ,CAYKS,IAAI,CAAC,kBAAD,CAAJ,CAAyBc,GAAzB,CAA6B,SAAC4B,QAAD,QAC1B,+BAAC,iBAAD,EAAU,QAAQ,CAAEA,QAApB,CAA8B,aAAa,CAAE,KAAI,CAAC/B,KAAL,CAAWuC,aAAxD,CAAuE,eAAe,CAAEC,eAAxF,EAD0B,EAA7B,CAZL,CADJ,CAkBH,C,sBA1BiCpH,kB;;wUChB+C;AAIrF,GAAM+F,2BAAW,CAAGb,gDAAM,CAACC,GAAV,iCAAjB,CASA,GAAMuC,eAAc,CAAG,CACnBvB,QAAQ,CAAE,MADS,CAAvB,C,GAIqBwB,8B,kGACjB,wBAAY/C,KAAZ,CAAmB,0EACf,oIAAMA,KAAN,GACA;AACA,MAAKS,KAAL,CAAa,CACTuC,QAAQ,CAAE,CADD,CAETC,aAAa,CAAE,EAFN,CAGT/D,MAAM,CAAE,IAHC,CAAb,CAMA,MAAKuB,KAAL,CAAWwC,aAAX,CAAyB3G,IAAzB,CAA8B0D,KAAK,CAACkD,QAApC,EAEA,MAAKV,eAAL,CAAuB,MAAKA,eAAL,CAAqBP,IAArB,2GAAvB,CACA,MAAKkB,WAAL,CAAmB,MAAKA,WAAL,CAAiBlB,IAAjB,2GAAnB,CACA,MAAKmB,WAAL,CAAmB,MAAKA,WAAL,CAAiBnB,IAAjB,2GAAnB,CACA,MAAKoB,cAAL,CAAsB,MAAKA,cAAL,CAAoBpB,IAApB,2GAAtB,CACA,MAAKM,aAAL,CAAqB,MAAKA,aAAL,CAAmBN,IAAnB,2GAArB,CAfe,aAgBlB,C,sGAEa,CACV,MAAO,MAAKxB,KAAL,CAAWwC,aAAX,CAAyB,CAAzB,CAAP,CACH,C,+CAEY,CACT,MAAO,MAAKxC,KAAL,CAAWwC,aAAX,CAAyB,KAAKxC,KAAL,CAAWuC,QAApC,CAAP,CACH,C,uDAEgB,CACb;AACA,GAAI,KAAKvC,KAAL,CAAWwC,aAAX,CAAyB5F,MAAzB,EAAmC,KAAKoD,KAAL,CAAWuC,QAAlD,CAA4D,CACxD,KAAM,iDAAN,CACH,CACD,GAAIM,SAAQ,8CAAO,KAAK7C,KAAL,CAAWwC,aAAlB,CAAZ,CACAK,QAAQ,CAACC,MAAT,CAAgB,KAAK9C,KAAL,CAAWuC,QAAX,CAAoB,CAApC,EACA,KAAKnC,QAAL,CAAc,CAACoC,aAAa,CAAGK,QAAjB,CAAd,EAEH,C,oKAIqBpJ,G,sJAGE0B,uBAAsB,CAAC1B,GAAD,C,QAAtCsJ,O,eACJ,KAAK3C,QAAL,CAAc,CACVoC,aAAa,CAAE,KAAKxC,KAAL,CAAWwC,aAAX,CAAyBQ,MAAzB,CAAgC,CAACD,OAAD,CAAhC,CADL,CAEVR,QAAQ,CAAG,KAAKvC,KAAL,CAAWuC,QAAX,CAAsB,CAFvB,CAAd,E,qNAOU,CACV;AACD,GAAI,KAAKvC,KAAL,CAAWuC,QAAX,CAAsB,CAA1B,CAA6B,CACzB,KAAKnC,QAAL,CAAc,CAACmC,QAAQ,CAAG,KAAKvC,KAAL,CAAWuC,QAAX,CAAsB,CAAlC,CAAd,EACH,CACH,C,oDAEa3D,I,CAAM,CAChB,GAAIqE,SAAQ,CAAGhE,OAAO,CAACL,IAAD,CAAtB,CACA,KAAKwB,QAAL,CAAc,CAAC3B,MAAM,CAAGwE,QAAV,CAAd,EACH,C,uCAEQ,iBACL,GAAIC,QAAO,CAAG,KAAKC,UAAL,EAAd,CACA,GAAIV,SAAQ,CAAG,KAAKE,WAAL,EAAf,CACA,MACI,sCAAK,EAAE,CAAC,gBAAR,CAAyB,SAAS,CAAC,MAAnC,EACI,qCAAK,SAAS,CAAC,aAAf,EACI,qCAAK,SAAS,CAAC,iCAAf,EACI,oCAAI,SAAS,CAAC,UAAd,EACI,mCAAG,SAAS,CAAEO,OAAO,EAAET,QAAT,CAAmB,mBAAnB,CAAyC,UAAvD,CAAmE,IAAI,CAAC,GAAxE,CACI,gBAAeS,OAAO,EAAKT,QAAZ,CAAuB,MAAvB,CAAgC,OADnD,CAC4D,OAAO,CAAE,yBAAM,OAAI,CAACC,WAAL,EAAN,EADrE,SADJ,CADJ,CAOI,oCAAI,SAAS,CAAC,UAAd,EACI,mCAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,GAA7B,EACK/D,iBAAiB,CAACuE,OAAD,CAAjB,CAA6B,8BAAC,yBAAD,MAA7B,CAA8C,8BAAC,6BAAD,MADnD,CADJ,CAPJ,CAYI,oCAAI,SAAS,CAAC,UAAd,EACI,mCAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,GAA7B,CAAiC,OAAO,CAAE,yBAAM,OAAI,CAACN,cAAL,EAAN,EAA1C,EACM,KAAK5C,KAAL,CAAWuC,QAAX,EAAuB,KAAKvC,KAAL,CAAWwC,aAAX,CAAyB5F,MAAzB,CAAiC,CAAxD,CAA4D,8BAAC,qBAAD,MAA5D,CAAyE,8BAAC,2BAAD,MAD/E,CADJ,CAZJ,CAiBI,oCAAI,SAAS,CAAC,UAAd,CAAyB,KAAK,CAAEyF,cAAhC,EACI,8BAAC,0BAAD,MACKa,OAAO,CAAC,MAAD,CAAP,CAAgB,QAAhB,CADL,CADJ,CAjBJ,CADJ,CADJ,CA0BK,KAAKlD,KAAL,CAAWvB,MAAX,CACO,qCAAK,KAAK,CAAC,qBAAX,EACI,qCAAK,KAAK,CAAC,WAAX,EACI,qCAAK,KAAK,CAAC,WAAX,EACK,KAAKuB,KAAL,CAAWvB,MADhB,CADJ,CADJ,CADP,CAQC,EAlCN,CAmCI,8BAAC,iBAAD,EAAU,aAAa,CAAE,KAAKqD,aAA9B,CAA6C,eAAe,CAAE,KAAKC,eAAnE,CAAoF,IAAI,CAAEmB,OAA1F,EAnCJ,CADJ,CAuCH,C,4BAzGuCvI,kB;;GCjBtCyI,U,+dACJpD,K,CAAQ,CACNyC,QAAQ,CAAE,CACV,OAAW,WADD,CAEV,OAAW,EAFD,CAIN,OAAS,CACL,SAAW,kEADN,CAJH,CAQN,mBAAqB,CACrB,CACI,OAAS,CACL,OAAS,CACL,MAAQ,eADH,CADJ,CAIL,OAAS,CACL,MAAQ,kEADH,CAJJ,CAOL,OAAS,CACL,MAAQ,kEADH,CAPJ,CADb,CADqB,CAcrB,CACI,MAAQ,CACJ,SAAW,CACP,MAAQ,kEADD,CADP,CAIJ,SAAW,CACP,MAAQ,kEADD,CAJP,CADZ,CAdqB,CARf,CADJ,C,iGAqCC,CACP,MACE,sCAAK,SAAS,CAAC,iBAAf,EACE,qCAAK,SAAS,CAAC,KAAf,EACE,qCAAK,SAAS,CAAC,OAAf,EACE,8BAAC,6BAAD,EAAgB,QAAQ,CAAE,KAAKzC,KAAL,CAAWyC,QAArC,EADF,CADF,CADF,CADF,CAWD,C,kBAlDgB9H,kB,EAqDJyI,6DAAf,E;;GCjDMC,Q,mXACK,CACP,MACE,sCAAK,SAAS,CAAC,SAAf,EACE,wCAAQ,SAAS,CAAC,YAAlB,EACE,sDADF,CADF,CAIE,8BAAC,gCAAD,MACE,yCACE,qCAAK,SAAS,CAAC,wBAAf,EACE,8BAAC,uBAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,KAAvB,SADF,CAEE,8BAAC,uBAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,SAAS,CAAC,KAA3B,SAFF,CAGE,8BAAC,uBAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,KAA7B,WAHF,CADF,CAOE,8BAAC,wBAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAE3I,eAAjC,EAPF,CAQE,8BAAC,wBAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAE0I,eAA/B,EARF,CASE,8BAAC,wBAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,SAAS,CAAErD,aAAjC,EATF,CADF,CAJF,CADF,CAoBD,C,iBAtBepF,kB,EAyBH0I,qDAAf,E;;AChCA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,GAAMC,YAAW,CAAGC,OAAO,CACzBC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,WAA7B,EACE;AACAF,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,OAF/B,EAGE;AACAF,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CACE,wDADF,CALuB,CAA3B,CAUO,QAASC,SAAT,CAAkBC,MAAlB,CAA0B,CAC/B,GAAItK,YAAA,GAAyB,YAAzB,EAAyC,iBAAmBuK,UAAhE,CAA2E,CACzE;AACA,GAAMC,UAAS,CAAG,GAAIC,IAAJ,CAAQzK,EAAR,CAAgCiK,MAAM,CAACC,QAAP,CAAgBQ,IAAhD,CAAlB,CACA,GAAIF,SAAS,CAACG,MAAV,GAAqBV,MAAM,CAACC,QAAP,CAAgBS,MAAzC,CAAiD,CAC/C;AACA;AACA;AACA,OACD,CAEDV,MAAM,CAACW,gBAAP,CAAwB,MAAxB,CAAgC,UAAM,CACpC,GAAMC,MAAK,WAAM7K,EAAN,sBAAX,CAEA,GAAI+J,WAAJ,CAAiB,CACf;AACAe,uBAAuB,CAACD,KAAD,CAAQP,MAAR,CAAvB,CAEA;AACA;AACAC,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8BlE,IAA9B,CAAmC,UAAM,CACvCtG,OAAO,CAACC,GAAR,CACE,yDACE,oDAFJ,EAID,CALD,EAMD,CAZD,IAYO,CACL;AACAwK,eAAe,CAACJ,KAAD,CAAQP,MAAR,CAAf,CACD,CACF,CAnBD,EAoBD,CACF,CAED,QAASW,gBAAT,CAAyBJ,KAAzB,CAAgCP,MAAhC,CAAwC,CACtCC,SAAS,CAACQ,aAAV,CACGV,QADH,CACYQ,KADZ,EAEG/D,IAFH,CAEQ,SAAAoE,YAAY,CAAI,CACpBA,YAAY,CAACC,aAAb,CAA6B,UAAM,CACjC,GAAMC,iBAAgB,CAAGF,YAAY,CAACG,UAAtC,CACA,GAAID,gBAAgB,EAAI,IAAxB,CAA8B,CAC5B,OACD,CACDA,gBAAgB,CAACE,aAAjB,CAAiC,UAAM,CACrC,GAAIF,gBAAgB,CAAC3E,KAAjB,GAA2B,WAA/B,CAA4C,CAC1C,GAAI8D,SAAS,CAACQ,aAAV,CAAwBQ,UAA5B,CAAwC,CACtC;AACA;AACA;AACA/K,OAAO,CAACC,GAAR,CACE,sDACE,2DAFJ,EAKA;AACA,GAAI6J,MAAM,EAAIA,MAAM,CAACkB,QAArB,CAA+B,CAC7BlB,MAAM,CAACkB,QAAP,CAAgBN,YAAhB,EACD,CACF,CAbD,IAaO,CACL;AACA;AACA;AACA1K,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAEA;AACA,GAAI6J,MAAM,EAAIA,MAAM,CAACmB,SAArB,CAAgC,CAC9BnB,MAAM,CAACmB,SAAP,CAAiBP,YAAjB,EACD,CACF,CACF,CACF,CA3BD,CA4BD,CAjCD,CAkCD,CArCH,EAsCGQ,KAtCH,CAsCS,SAAA/I,KAAK,CAAI,CACdnC,OAAO,CAACmC,KAAR,CAAc,2CAAd,CAA2DA,KAA3D,EACD,CAxCH,EAyCD,CAED,QAASmI,wBAAT,CAAiCD,KAAjC,CAAwCP,MAAxC,CAAgD,CAC9C;AACAlK,KAAK,CAACyK,KAAD,CAAL,CACG/D,IADH,CACQ,SAAAwB,QAAQ,CAAI,CAChB;AACA,GAAMqD,YAAW,CAAGrD,QAAQ,CAACsD,OAAT,CAAiBlK,GAAjB,CAAqB,cAArB,CAApB,CACA,GACE4G,QAAQ,CAACI,MAAT,GAAoB,GAApB,EACCiD,WAAW,EAAI,IAAf,EAAuBA,WAAW,CAACE,OAAZ,CAAoB,YAApB,IAAsC,CAAC,CAFjE,CAGE,CACA;AACAtB,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8BlE,IAA9B,CAAmC,SAAAoE,YAAY,CAAI,CACjDA,YAAY,CAACY,UAAb,GAA0BhF,IAA1B,CAA+B,UAAM,CACnCmD,MAAM,CAACC,QAAP,CAAgB6B,MAAhB,GACD,CAFD,EAGD,CAJD,EAKD,CAVD,IAUO,CACL;AACAd,eAAe,CAACJ,KAAD,CAAQP,MAAR,CAAf,CACD,CACF,CAlBH,EAmBGoB,KAnBH,CAmBS,UAAM,CACXlL,OAAO,CAACC,GAAR,CACE,+DADF,EAGD,CAvBH,EAwBD,CAEM,QAASqL,WAAT,EAAsB,CAC3B,GAAI,iBAAmBvB,UAAvB,CAAkC,CAChCA,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8BlE,IAA9B,CAAmC,SAAAoE,YAAY,CAAI,CACjDA,YAAY,CAACY,UAAb,GACD,CAFD,EAGD,CACF,C;;AChID;AACA;AACA;AACA;AACA;AACA;AAEAE,mBAAQ,CAACC,MAAT,CAAgB,8BAAC,SAAD,MAAhB,CAAyBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB,EAEA;AACA;AACA;AACApB,UAAA,G","file":"static/js/main.4d37f7c7.chunk.js","sourcesContent":["const isBrowser = (typeof process === 'object' ? false : true);\r\n\r\nexport default class KBserver\r\n{\r\n\r\n    constructor(){\r\n    }\r\n\r\n    async GetDataExpressionByCID(cid)\r\n    {\r\n\r\n        try {\r\n            let jsondata = {};\r\n            if (isBrowser) {\r\n                jsondata = await fetch(process.env.API_URL+'search?cid='+cid);\r\n            }\r\n            else {\r\n                jsondata = require(__dirname+\"/db.json\");\r\n            }\r\n\r\n            if (jsondata == null) {\r\n                console.log(\"Fetching messed up.\")\r\n            }\r\n            else {\r\n                for ( var i in jsondata )\r\n                {\r\n                    let data = jsondata[i];\r\n\r\n                    if ( data.hasOwnProperty(\"cids\") )\r\n                    {\r\n                        let data_cids = data[\"cids\"];\r\n                        for ( var j in data_cids )\r\n                            if ( data_cids[j] == cid ) return Promise.resolve(data);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n        \r\n        console.log(\"Requested cid not found in fetched object, or something else went wrong\");\r\n        return Promise.resolve(null);\r\n\r\n    }\r\n\r\n    async GetRawDataByRef(ref)\r\n    {\r\n        try {\r\n            let data = null;\r\n            if (isBrowser) {\r\n                data = await fetch(process.env.API_URL + 'raw/' + ref);\r\n            } else {\r\n                data = require(__dirname + \"/files/\" + ref);\r\n            }\r\n            return Promise.resolve(new Uint8Array(data));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        \r\n        console.log(\"Raw data is null. Something wrong happened.\");\r\n        return null;\r\n    }\r\n}","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var map = {\n\t\"./file1.txt\": 73,\n\t\"./file2.txt\": 74\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 72;","module.exports = __webpack_public_path__ + \"static/media/file1.86c56c00.txt\";","module.exports = __webpack_public_path__ + \"static/media/file2.62ded210.txt\";","import React, { Component } from 'react';\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>You are home now.</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import KBserver from '../Server/KBserver';\r\n\r\nexport default class KBcache\r\n{\r\n\r\n    constructor(){\r\n        this.KBserver = new KBserver();\r\n        this.ref_cache = new Map();\r\n        this.cid_cache = new Map();\r\n    }\r\n\r\n    GetDataExpressionByCID(cid)\r\n    {\r\n        let cached_data = this.cid_cache.get(cid);\r\n\r\n        if ( null == cached_data )\r\n        {\r\n            let server_data = this.KBserver.GetDataExpressionByCID(cid);\r\n            if ( null != server_data )\r\n            {\r\n                this.cid_cache.set(cid, server_data);\r\n                return server_data;\r\n            }\r\n        }\r\n\r\n        return cached_data;\r\n    }\r\n\r\n    GetRawDataByRef(ref)\r\n    {\r\n        let cached_data = this.ref_cache.get(ref);\r\n\r\n        if ( null == cached_data )\r\n        {\r\n            let server_data = this.KBserver.GetRawDataByRef(ref);\r\n            if ( null != server_data )\r\n            {\r\n                this.ref_cache.set(ref, server_data);\r\n                return server_data;\r\n            }\r\n        }\r\n\r\n        return cached_data;\r\n    }\r\n\r\n    DataExpressionInCacheByCID(cid)\r\n    {\r\n        let cached_data = this.cid_cache.get(cid);\r\n\r\n        if ( null == cached_data )\r\n            return false;\r\n        else\r\n            return true;\r\n    }\r\n\r\n    RawDataInCacheByRef(ref)\r\n    {\r\n        let cached_data = this.ref_cache.get(ref);\r\n\r\n        if ( null == cached_data )\r\n            return false;\r\n        else\r\n            return true;\r\n    }\r\n\r\n}","export default class KBWasm\r\n{\r\n    constructor(raw_wasm, args)\r\n    {\r\n        this.raw_wasm = raw_wasm;\r\n        this.args = args;\r\n    }\r\n    \r\n\r\n    Exec()\r\n    {\r\n        // hard coded implementstion of concat buffers\r\n        let count = 0;\r\n        let result = new Array();\r\n\r\n        for ( var i in this.args )\r\n        {\r\n            let arg = this.args[i];\r\n            for ( var j in arg )\r\n            {\r\n                if (( j == \"MIME\" ) || ( j == \"size\" ))\r\n                    continue;\r\n\r\n                result.push(arg[j]);\r\n                count++;\r\n            }\r\n        }\r\n        \r\n        result[\"MIME\"] = \"utf8/text\";\r\n        result[\"size\"] = count;\r\n\r\n        return result;\r\n    }\r\n}","import KBcache from './KBcache'\r\n\r\nimport  KBwasm from './KBwasm'\r\n\r\nexport default class KBstorage\r\n{\r\n    constructor()\r\n    {\r\n       // this.path = path;\r\n        console.log(KBcache);\r\n        this.cache = new KBcache();\r\n    }\r\n\r\n    GetData(data_expression)\r\n    {\r\n        console.log(data_expression);\r\n        try {\r\n            return Promise.resolve(this.ExecExpression(data_expression));\r\n        }catch(error){\r\n            console.log('Error parsing expression to JSON:\\n', error);\r\n        }\r\n\r\n        return Promise.resolve(null);\r\n    }\r\n\r\n    ExecExpression(expression)\r\n    {\r\n        if ( expression.hasOwnProperty(\"cid\") )\r\n            return this._cid(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"exec\") )\r\n            return this._exec(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"ref\") )\r\n            return this._ref(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"raw\") )\r\n            return this._raw(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"seq\") )\r\n            return this._seq(expression);\r\n        \r\n        console.log(\"Not implemented for this type of expression\");\r\n        console.log(expression);\r\n\r\n        return null;\r\n    }\r\n\r\n    _cid(expression)\r\n    {\r\n        let data_by_cid = this.cache.GetDataExpressionByCID(expression[\"cid\"]);\r\n\r\n        let data_expressions = this.ExtractDataExpressions(data_by_cid);\r\n\r\n        if ( 0 == data_expressions.length )\r\n        {\r\n            console.log(\"Empty expressions list for \" + expression[\"cid\"]);\r\n            return null;\r\n        }\r\n\r\n        let exp_to_exec = this.ChooseExpression(data_expressions);\r\n        \r\n        return this.ExecExpression(exp_to_exec);\r\n    }\r\n\r\n    _exec(expression)\r\n    {\r\n        let exec = expression[\"exec\"]\r\n\r\n        if ( !exec.hasOwnProperty(\"wasm\") )\r\n        {\r\n            console.log(\"Expression exec does't contain wasm property\");\r\n            return null;\r\n        }\r\n        \r\n        let wasm = this.ExecExpression(exec[\"wasm\"]);\r\n        if ( null == wasm )\r\n        {\r\n            console.log(\"Expression exec has empty wasm\");\r\n            return null;\r\n        }\r\n\r\n        let args = new Array();\r\n\r\n        for ( var index in exec )\r\n        {\r\n            if ( \"wasm\" == index )\r\n                continue;\r\n            \r\n            let arg = this.ExecExpression(exec[index]);\r\n            if ( null == arg )\r\n            {\r\n                console.log(\"Expression exec has empty arg\");\r\n                return null;\r\n            }\r\n\r\n            args.push(arg);\r\n        }\r\n\r\n        let result = new KBwasm(wasm, args).Exec();\r\n\r\n        if ( null == result )\r\n        {\r\n            console.log(\"Wasm execution result is empty\");\r\n            return null;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _ref(expression)\r\n    {\r\n        let ref = expression[\"ref\"];\r\n\r\n        let result = this.cache.GetRawDataByRef(ref);\r\n\r\n        if ( null == result )\r\n        {\r\n            console.log(\"Expression ref is empty\");\r\n            return null;\r\n        }\r\n\r\n        result[\"MIME\"] = expression[\"MIME\"];\r\n        result[\"size\"] = expression[\"size\"];\r\n\r\n        return result;\r\n    }\r\n\r\n    _raw(expression)\r\n    {\r\n        let raw = expression[\"raw\"];\r\n\r\n        let utf8str = String(raw); // <-- utf8 string\r\n    \r\n        var result = new Array();\r\n\r\n        for ( var i=0; i < utf8str.length; i++ ) {\r\n\r\n            var charcode = utf8str.charCodeAt(i);\r\n            \r\n            result.push( charcode ); // ????\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _seq(expression)\r\n    {\r\n        let result = new Array();\r\n        let seq = expression[\"seq\"];\r\n\r\n        let MIME = expression[\"MIME\"];\r\n        let size = expression[\"size\"];\r\n\r\n        for ( var index in seq )\r\n        {\r\n            let expression = seq[index];\r\n            \r\n            let data_block = this.ExecExpression(expression);\r\n\r\n            if ( null == data_block )\r\n            {\r\n                console.log(\"Empty data in sequences\");\r\n                return null;\r\n            }\r\n\r\n            for ( var i in data_block )\r\n                result.push(data_block[i]);\r\n        }\r\n\r\n        result[\"MIME\"] = MIME;\r\n        result[\"size\"] = size;\r\n\r\n        return result;\r\n    }\r\n\r\n    ExtractDataExpressions(data_by_cid)\r\n    {\r\n        let result = new Array();\r\n        let MIME = data_by_cid[\"MIME\"];\r\n        let size = data_by_cid[\"size\"];\r\n\r\n        for ( var index in data_by_cid )\r\n        {\r\n            if (( \"cids\" == index ) || ( \"MIME\" == index ) ||( \"size\" == index ))\r\n                continue;\r\n            \r\n            let expression = data_by_cid[index];\r\n\r\n            expression[\"MIME\"] = MIME;\r\n            expression[\"size\"] = size;\r\n\r\n            if ( expression.hasOwnProperty(\"exec\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"ref\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"raw\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"cid\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"seq\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    ChooseExpression(data_expressions)\r\n    {\r\n        // now it's always first\r\n        return data_expressions[0];\r\n    }\r\n\r\n    GetDataExpressionByCID(cid) {\r\n        return this.cache.GetDataExpressionByCID(cid);\r\n    }\r\n\r\n    ParseExpression(exp)\r\n    {\r\n        try{\r\n            let expression = JSON.parse(exp);\r\n\r\n            let result = new Object();\r\n\r\n            if ( expression.hasOwnProperty(\"cid\") )\r\n            {\r\n                let data_by_cid = this.cache.GetDataExpressionByCID(expression[\"cid\"]);\r\n                let data_expressions = this.ExtractDataExpressions(data_by_cid);\r\n                Object.keys(data_by_cid).forEach(function(key) {\r\n                    if (key.substr(0,15) != \"data_expression\") {\r\n                        result[key] = data_by_cid[key];\r\n                        console.log(key);\r\n                    }\r\n                    console.log(key);\r\n                })\r\n                console.log(result);\r\n                result['data_expressions'] = data_expressions;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"exec\") )\r\n            {\r\n                let exec = expression[\"exec\"];\r\n                for ( var i in exec )\r\n                    result.push(exec[i]);\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"ref\") )\r\n            {\r\n                //let ref = expression[\"ref\"];\r\n                //result.push(ref);\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"raw\") )\r\n            {\r\n                let raw = expression[\"raw\"];\r\n                result.push(raw);\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"seq\") )\r\n            {\r\n                let seq = expression[\"seq\"];\r\n                for ( var i in seq )\r\n                    result.push(seq[i]);\r\n            }\r\n\r\n            return result;\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    ExpressionInCache(expression)\r\n    {\r\n        try{\r\n\r\n            if ( expression.hasOwnProperty(\"ref\") )\r\n                return this.cache.RawDataInCacheByRef(expression[\"ref\"]);\r\n\r\n            if ( expression.hasOwnProperty(\"cid\") )\r\n                return this.cache.DataExpressionInCacheByCID(expression[\"cid\"]);\r\n                \r\n        }catch(error){\r\n            return false;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n}","import KBstorage from './proto/BrowserScript/KBstorage';\r\n\r\nconst KBStore = new KBstorage();\r\nlet cacheProxy = {\r\n    \"byCid\" : {\r\n        \"7E1D8D6609499A1A5FB67C6B9E7DD34CF7C6C4355259115FC7161F47266F5F3C\" : { cached : false, data: null},\r\n        \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\" : { cached : false, data: null},\r\n        \"_wasm_concat_\" : { cached : false, data: null},\r\n        \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\" : { cached : false, data: null},\r\n        \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\" : { cached : false, data: null},\r\n    },\r\n    \"byRef\" : {\r\n        \"file1.txt\" : { cached : false, data: null},\r\n        \"file2.txt\" : { cached : false, data: null},\r\n    }\r\n}\r\n\r\nconst lib = {\r\n    \"hellobanana\" : {\r\n\r\n        \"MIME\" \t\t: \"utf8/text\",\r\n\t\t\"size\" \t\t: 11,\r\n\r\n        \"cids\" : {\r\n            \"SHA256\" : \"7E1D8D6609499A1A5FB67C6B9E7DD34CF7C6C4355259115FC7161F47266F5F3C\"\r\n        },\r\n\r\n        \"data_expressions\" : [\r\n        {\r\n            \"exec\" : {\r\n                \"wasm\" : {\r\n                    \"cid\" : \"_wasm_concat_\"\r\n                },\r\n                \"arg1\" : {\r\n                    \"cid\" : \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\"\r\n                },\r\n                \"arg2\" : {\r\n                    \"cid\" : \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"seq\" : {\r\n                \"block1\" : {\r\n                    \"cid\" : \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\"\r\n                },\r\n                \"block2\" : {\r\n                    \"cid\" : \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\"\r\n                }\r\n            }\r\n        }]\r\n\r\n    },\r\n\r\n    \"hello\" : {\r\n\r\n        \"MIME\" \t\t: \"utf8/text\",\r\n\t\t\"size\" \t\t: 5,\r\n\r\n        \"cids\" : {\r\n            \"SHA256\" : \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\"\r\n        },\r\n\r\n        \"data_expressions\" : [{\r\n            \"ref\" : \"file1.txt\"\r\n        }]\r\n\r\n    },\r\n\r\n    \"banana\" : {\r\n\r\n        \"MIME\" \t\t: \"utf8/text\",\r\n\t\t\"size\" \t\t: 6,\r\n\r\n        \"cids\" : {\r\n            \"SHA256\" : \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\"\r\n        },\r\n\r\n        \"data_expressions\" : [{\r\n            \"ref\" : \"file2.txt\"\r\n        }]\r\n\r\n    },\r\n\r\n    \"wasm_concat\" : {\r\n\r\n        \"MIME\" \t\t: \"wasm\",\r\n        \"size\" \t\t: 10251,\r\n        \r\n        \"cids\" : {\r\n            \"SHA256\" : \"_wasm_concat_\"\r\n        },\r\n\r\n        \"data_expressions\" : [{\r\n            \"ref\" : \"buffers_concat.wasm\"\r\n        }]\r\n\r\n    }\r\n\r\n};\r\n\r\nexport function ExpressionInCache(expr) {\r\n    if (expr.hasOwnProperty('ref')) {\r\n        return cacheProxy.byRef[expr['ref']].cached;\r\n    }\r\n    else if (expr.hasOwnProperty('cid')) {\r\n        return cacheProxy.byCid[expr['cid']].cached;\r\n    }\r\n    else if (expr.hasOwnProperty('cids')) {\r\n        return cacheProxy.byCid[expr['cids']['SHA256']].cached;\r\n    }\r\n    console.log(\"I'm not supposed to be here\")\r\n}\r\n\r\nexport async function GetAndCacheExpr(expr) {\r\n    if (expr.hasOwnProperty('ref')) {\r\n        cacheProxy.byRef[expr['ref']].cached = true;\r\n        cacheProxy.byRef[expr['ref']].data = GetRawDataByRef(expr['ref']);\r\n    }\r\n    else if (expr.hasOwnProperty('cid')) {\r\n        cacheProxy.byCid[expr['cid']] = { cached:  true, data: await GenerateData(await GetDataExpressionByCID(expr['cid']))};\r\n    }\r\n}\r\n\r\nexport async function GetDataExpressionByCID(cid) {\r\n    //return await KBStore.GetDataExpressionByCID(cid);\r\n    if (cid == \"7E1D8D6609499A1A5FB67C6B9E7DD34CF7C6C4355259115FC7161F47266F5F3C\") {\r\n        return lib['hellobanana'];\r\n    }\r\n    else if (cid == \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\") {\r\n        return lib['hello'];\r\n    }\r\n    else if (cid == \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\") {\r\n        return lib['banana'];\r\n    }\r\n    else if (cid == \"_wasm_concat_\") {\r\n        return lib['wasm_concat'];\r\n    }\r\n    else {\r\n        console.log(\"I'm not handling this one :/\");\r\n        console.log(cid);\r\n    }\r\n}\r\n\r\nexport default function GetRawDataByRef(ref) {\r\n    if (ref === 'file1.txt') return \"hello\";\r\n    else if (ref === 'file2.txt') return \"banana\";\r\n    else {\r\n        return \"invalid ref\";\r\n    }\r\n}\r\n\r\nexport async function GenerateData(expr) {\r\n    if (expr == lib['hellobanana']) {\r\n        console.log(\"here!\");\r\n        return \"hellobanana\";\r\n    }\r\n    else if (expr == lib['hello']) {\r\n        return \"hello\";\r\n    }\r\n    else if (expr == lib['banana']){\r\n        return \"banana\";\r\n    }\r\n};\r\n\r\nexport function Execute(expr) {\r\n    //return new Uint8Array(await KBStore.ExecExpression(expr));\r\n    if (JSON.stringify(expr) === JSON.stringify(lib['hellobanana']['data_expressions'][0]) || JSON.stringify(expr) === JSON.stringify(lib['hellobanana']['data_expressions'][1])) {\r\n        return \"hellobanana\";\r\n    }\r\n    else if (expr == lib['hello']['data_expressions'][0]) return \"hello\";\r\n    else if (expr == lib['banana']['data_expressions'][0]) return \"banana\";\r\n    else if (expr == lib['wasm_concat']['data_expressions'][0]) return \"___WASM_FILE___\";\r\n    console.log(\"something went wrong\", expr);\r\n}\r\n\r\nexport async function lookupBlock(dum) {\r\n    return null;\r\n}\r\n\r\nexport async function loadBlock(dum) {\r\n    return null;\r\n}\r\n\r\n\r\n// export function renderBlock(cid, kb, target) {\r\n//     var manifest = this.blocks[cid]['kolmoblocks'][kb];\r\n//     loadKolmoblock(manifest, $(target));\r\n// };","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport keys from 'lodash/keys';\r\nimport {loadBlock, lookupBlock} from '../store';\r\n\r\nconst File = (props) => {\r\n    const { selected, renderSelected } = props;\r\n    console.log(renderSelected);\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"card\">\r\n                <div id=\"file-options\" className=\"card-body\">\r\n                    <pre className=\"card-text text-left\">\r\n                        {JSON.stringify(selected, null, 2)}\r\n                    </pre>\r\n                    {/* Render dependent of existence of recipes*/}\r\n                    {selected['kolmoblocks'] ? \r\n                        keys(selected['kolmoblocks']).map((recipe, i) => \r\n                            <button type=\"button\" \r\n                                    className=\"btn btn-success m-1\"\r\n                                    onClick={() => renderSelected(selected['kolmoblocks'][recipe])}\r\n                                    >Render w/ Recipe {i}</button>) \r\n                        : <button type=\"button\" className=\"btn btn-warning\">No Recipes</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default File;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport File from './File'\r\nimport {loadBlock, lookupBlock} from './../store';\r\n\r\nconst TreeWrapper = styled.div`\r\n  width: 400px;\r\n`;\r\n\r\nexport default class Render extends Component { \r\n  state = {\r\n    selected: null,\r\n    rendered: null\r\n  };\r\n\r\n  onSelect = (file) => {\r\n    this.setState({ selected: file });\r\n  }\r\n\r\n renderSelected = (recipe) => {\r\n   console.log(recipe);\r\n    loadBlock(recipe).then((data) => {\r\n      let decoded = new TextDecoder(\"utf-8\").decode(data);\r\n      console.log(decoded);\r\n      this.setState({rendered: decoded}, ()=>{console.log(\"state set\")});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selected, rendered } = this.state;\r\n    return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div id=\"rendered-content\" className=\"jumbotron\">\r\n            { rendered ? rendered : <h3>Rendered content will appear here</h3>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-5\" >\r\n          <TreeWrapper>\r\n          </TreeWrapper>\r\n        </div>\r\n        <div className=\"col-12 col-md-7\">\r\n          {selected && selected.type === 'node' ?\r\n            <File renderSelected={this.renderSelected} selected={selected}/>\r\n            : <h5>Select a file to view options</h5>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExpressionInCache, GetAndCacheExpr } from '../store.js';\r\nimport {MdCloudDownload, MdCloudDone, MdPlayArrow} from 'react-icons/md'; // possible failure in either\r\nimport styled from 'styled-components';\r\n\r\nconst FitToParent = styled.div`\r\n    display: block;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    float: right;\r\n`;\r\n\r\nconst floatLeft = {\r\n    float: 'left'\r\n}\r\nconst floatRight = {\r\n    float: 'right',\r\n    maxWidth: '55%'\r\n}\r\n\r\nconst floatLeftCenter = {\r\n    position: 'absolute',\r\n    left: '30%',\r\n    right: '70%',\r\n}\r\n\r\nexport default class DataExpr extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            executionRes : null,\r\n            oldExpr: props.dataExpr,\r\n        }\r\n        this.onSelectExpr = this.onSelectExpr.bind(this);\r\n        this.allDepsInCache = this.allDepsInCache.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.dataExpr != this.state.oldExpr) {\r\n            this.setState({\r\n                executionRes : null,\r\n                oldExpr : this.props.dataExpr});\r\n        }\r\n    }\r\n\r\n    allDepsInCache() {\r\n        let type = Object.keys(this.props.dataExpr)[0];\r\n        let stat = true;\r\n        Object.keys(this.props.dataExpr[type]).forEach(\r\n            (key, index) => {\r\n                let obj = JSON.parse(JSON.stringify(this.props.dataExpr[type][key]));\r\n                if (!ExpressionInCache(obj)) {\r\n                    stat = false;\r\n                }\r\n            }\r\n        )\r\n        return stat;\r\n    }\r\n\r\n    async cacheExpression(expr) {\r\n        await GetAndCacheExpr(expr);\r\n        this.forceUpdate();\r\n    }\r\n\r\n    async onSelectExpr(dataExpr) {\r\n        // when and expression is executed, call the api and set the new state\r\n        let response = {};\r\n        if (this.allDepsInCache()) {\r\n            await this.props.onExecuteExpr(dataExpr);\r\n            response['content'] = 'Successfully executed expression!'\r\n            response['status'] = 'success';\r\n        }\r\n        else {\r\n            response['status'] = 'danger';\r\n            response['content'] = 'Dependencies must all be in cache!'\r\n        }\r\n        console.log(\"here!\", response);\r\n        this.setState({executionRes : response});\r\n    }\r\n\r\n    render() {\r\n        let { dataExpr, onChangeCurExpr } = this.props;\r\n        let type = Object.keys(dataExpr)[0];\r\n        \r\n        return (\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <span style={floatLeft}>Expression Type: {JSON.stringify(type)}</span>\r\n                    <a className=\"ml-2\" style={floatLeft} href=\"#\" onClick={() => this.onSelectExpr(dataExpr)}>\r\n                        <MdPlayArrow/>\r\n                    </a>\r\n\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <ul className=\"list-group list-group-flush\">\r\n                        {dataExpr['ref'] ? dataExpr['ref'] : \r\n                            Object.keys(dataExpr[type]).map((key, index) => (\r\n                                <li className=\"list-group-item\">\r\n                                    <div style={floatLeft}>{JSON.stringify(key)}</div>\r\n                                    <div style={floatLeftCenter}>=</div>\r\n                                    <a className=\"ml-2\" href=\"#\" style={floatRight} onClick={() => this.cacheExpression(dataExpr[type][key])}>\r\n                                        {ExpressionInCache(dataExpr[type][key]) ? <MdCloudDone/> : <MdCloudDownload/>}\r\n                                    </a>\r\n                                    <a href=\"#\" onClick={() => onChangeCurExpr(dataExpr[type][key]['cid'])} style={floatRight}>\r\n                                        <FitToParent>\r\n                                            {dataExpr[type][key]['cid']}\r\n                                        </FitToParent>\r\n                                    </a>\r\n                                    \r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                {this.state.executionRes? \r\n                <div className={\"card-footer bg-\"+this.state.executionRes.status}>\r\n                    <div className={\"card-text text-light\"}>\r\n                        {this.state.executionRes.content}\r\n                    </div>\r\n                </div>\r\n                : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport DataExpr from './DataExpr';\r\nimport PropTypes from 'prop-types';\r\nimport {MdCloudDownload, MdCloudDone, MdLayersClear} from 'react-icons/md'; // possible failure in either\r\nimport styled from 'styled-components';\r\n\r\nconst floatLeft = {\r\n    float: 'left'\r\n}\r\nconst floatRight = {\r\n    float: 'right'\r\n}\r\n\r\nconst floatCenter = {\r\n    position: 'absolute',\r\n    left: '50%',\r\n    right: '50%',\r\n}\r\n\r\nexport default class DataView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    render() {\r\n        let { expr, onChangeCurExpr } = this.props;\r\n        return (\r\n            <div className=\"card-body\">\r\n                <ul className=\"list-group list-group-flush\">\r\n                    {Object.keys(expr).map((key, index) => (\r\n                        key == \"cids\" || key == \"data_expressions\" ? \"\" : \r\n                            <li class=\"list-group-item\">\r\n                                <div style={floatLeft}>{JSON.stringify(key)}</div>\r\n                                <div style={floatCenter}>=</div>\r\n                                <div style={floatRight}>{expr[key]}</div>\r\n                            </li>\r\n                        )\r\n                    )}\r\n                </ul>\r\n                {expr['data_expressions'].map((dataExpr) => (\r\n                    <DataExpr dataExpr={dataExpr} onExecuteExpr={this.props.onExecuteExpr} onChangeCurExpr={onChangeCurExpr} />\r\n                ))}\r\n            </div>\r\n        );\r\n    }    \r\n}","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { GetDataExpressionByCID, ExpressionInCache, Execute } from '../store.js';\r\nimport {MdCloudDownload, MdCloudDone, MdLayersClear, MdCheck} from 'react-icons/md'; // possible failure in either\r\nimport styled from 'styled-components';\r\nimport DataView from './DataView';\r\n\r\nconst FitToParent = styled.div`\r\n    display: block;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    float: right;\r\n`;\r\n\r\nconst constrainWidth = {\r\n    maxWidth: '100%'\r\n}\r\n\r\nexport default class DataController extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // set default state and expression stack\r\n        this.state = {\r\n            curIndex: 0,\r\n            dataExprStack: [],\r\n            cached: null\r\n        }\r\n        \r\n        this.state.dataExprStack.push(props.rootExpr);\r\n\r\n        this.onChangeCurExpr = this.onChangeCurExpr.bind(this);\r\n        this.onClickBack = this.onClickBack.bind(this);\r\n        this.getRootExpr = this.getRootExpr.bind(this);\r\n        this.flushDataExprs = this.flushDataExprs.bind(this);\r\n        this.onExecuteExpr = this.onExecuteExpr.bind(this);\r\n    }\r\n\r\n    getRootExpr() {\r\n        return this.state.dataExprStack[0];\r\n    }\r\n\r\n    getCurExpr() {\r\n        return this.state.dataExprStack[this.state.curIndex];\r\n    }\r\n\r\n    flushDataExprs() {\r\n        // clears stack above current element selected\r\n        if (this.state.dataExprStack.length <= this.state.curIndex) {\r\n            throw \"Something went wrong. curIndex is out of range.\";\r\n        }\r\n        let newStack = [...this.state.dataExprStack];\r\n        newStack.splice(this.state.curIndex+1)\r\n        this.setState({dataExprStack : newStack});\r\n        \r\n    }\r\n\r\n    \r\n\r\n    async onChangeCurExpr(cid) {\r\n        // add to data stack\r\n        // change cur data expr index\r\n        let newExpr = await GetDataExpressionByCID(cid);\r\n        this.setState({\r\n            dataExprStack: this.state.dataExprStack.concat([newExpr]),\r\n            curIndex : this.state.curIndex + 1}\r\n        );\r\n        \r\n    }\r\n\r\n    onClickBack() {\r\n        // decrement current index\r\n       if (this.state.curIndex > 0) {\r\n           this.setState({curIndex : this.state.curIndex - 1})\r\n       }\r\n    }\r\n\r\n    onExecuteExpr(expr) {\r\n        let executed = Execute(expr);\r\n        this.setState({cached : executed});\r\n    }\r\n\r\n    render() {\r\n        let curExpr = this.getCurExpr();\r\n        let rootExpr = this.getRootExpr();\r\n        return (\r\n            <div id=\"dataController\" className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"nav nav-pills card-header-pills\">\r\n                        <li className=\"nav-item\">\r\n                            <a className={curExpr==rootExpr? \"nav-link disabled\" : \"nav-link\"} href=\"#\" \r\n                                aria-disabled={curExpr ==  rootExpr ? \"true\" : \"false\"} onClick={() => this.onClickBack()}>\r\n                                Back\r\n                            </a>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <a className=\"nav-link\" href=\"#\">\r\n                                {ExpressionInCache(curExpr) ? <MdCloudDone/> : <MdCloudDownload/>}\r\n                            </a>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <a className=\"nav-link\" href=\"#\" onClick={() => this.flushDataExprs()}>\r\n                                { this.state.curIndex == this.state.dataExprStack.length -1 ? <MdCheck/> : <MdLayersClear/>}\r\n                            </a>\r\n                        </li>\r\n                        <li className=\"nav-link\" style={constrainWidth}>\r\n                            <FitToParent>\r\n                                {curExpr['cids']['SHA256']}\r\n                            </FitToParent>\r\n                        </li>\r\n                    </div>\r\n                </div>\r\n                {this.state.cached ? \r\n                        <div class=\"card mt-3 ml-3 mr-3\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"card-text\">\r\n                                    {this.state.cached}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                : \"\" }\r\n                <DataView onExecuteExpr={this.onExecuteExpr} onChangeCurExpr={this.onChangeCurExpr} expr={curExpr} />\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport DataController from './DataController';\r\n\r\nclass Demo extends Component {\r\n  state = {\r\n    rootExpr: {\r\n    \"MIME\" \t\t: \"utf8/text\",\r\n    \"size\" \t\t: 11,\r\n\r\n        \"cids\" : {\r\n            \"SHA256\" : \"7E1D8D6609499A1A5FB67C6B9E7DD34CF7C6C4355259115FC7161F47266F5F3C\"\r\n        },\r\n\r\n        \"data_expressions\" : [\r\n        {\r\n            \"exec\" : {\r\n                \"wasm\" : {\r\n                    \"cid\" : \"_wasm_concat_\"\r\n                },\r\n                \"arg1\" : {\r\n                    \"cid\" : \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\"\r\n                },\r\n                \"arg2\" : {\r\n                    \"cid\" : \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"seq\" : {\r\n                \"block1\" : {\r\n                    \"cid\" : \"2CF24DBA5FB0A30E26E83B2AC5B9E29E1B161E5C1FA7425E73043362938B9824\"\r\n                },\r\n                \"block2\" : {\r\n                    \"cid\" : \"B493D48364AFE44D11C0165CF470A4164D1E2609911EF998BE868D46ADE3DE4E\"\r\n                }\r\n            }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <DataController rootExpr={this.state.rootExpr} >\r\n            </DataController>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Demo;","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport './App.css';\r\nimport Home from \"./components/Home.js\"\r\nimport Render from \"./components/Render.js\"\r\nimport Demo from \"./components/Demo.js\"\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App p-3\">\r\n        <header className=\"App-header\">\r\n          <h1>KolmoBlocks</h1>\r\n        </header>\r\n        <Router>\r\n          <div>\r\n            <div className=\"align-items-center p-2\">\r\n              <Link to=\"/\" className=\"btn\">Home</Link>\r\n              <Link to=\"/demo\" className=\"btn\">Demo</Link>\r\n              <Link to=\"/render\" className=\"btn\">Render</Link>\r\n            </div>\r\n            \r\n            <Route exact path=\"/\" component={Home}/>\r\n            <Route path=\"/demo\" component={Demo}/>\r\n            <Route path=\"/render\" component={Render}/>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// HORRIBLE, but works for now..\r\n// Will soon update with caching instead of variables\r\n// this.blocks = {\r\n//     _root: this,\r\n//     _label: 'blocks'\r\n// };\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}