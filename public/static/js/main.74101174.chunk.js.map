{"version":3,"sources":["proto/Server/KBserver.js","index.css","App.css","proto/Server/files sync /^/.*$","proto/Server/files/file1.txt","proto/Server/files/file2.txt","components/Home.js","components/TreeNode.js","proto/BrowserScript/KBcache.js","proto/BrowserScript/KBwasm.js","proto/BrowserScript/KBstorage.js","store.js","components/Tree.js","components/File.js","components/Render.js","components/DataNode.js","components/DataComponent.js","components/Demo.js","App.js","serviceWorker.js","index.js"],"names":["isBrowser","process","KBserver","cid","jsondata","fetch","API_URL","require","__dirname","console","log","i","data","hasOwnProperty","data_cids","j","Promise","resolve","ref","Uint8Array","Home","Component","getPaddingLeft","level","type","paddingLeft","StyledTreeNode","styled","div","props","NodeIcon","marginRight","NodeProp","TreeNode","node","getChildNodes","onToggle","onNodeSelect","loc","cNodes","isOpen","val","keys","map","nkey","defaultProps","KBcache","ref_cache","Map","cid_cache","cached_data","get","server_data","GetDataExpressionByCID","set","GetRawDataByRef","KBWasm","raw_wasm","args","count","result","Array","arg","push","KBstorage","cache","data_expression","ExecExpression","error","expression","_cid","_exec","_ref","_raw","_seq","data_by_cid","data_expressions","ExtractDataExpressions","length","exp_to_exec","ChooseExpression","exec","wasm","index","KBwasm","Exec","raw","utf8str","String","charcode","charCodeAt","seq","MIME","size","data_block","exp","JSON","parse","Object","forEach","key","substr","RawDataInCacheByRef","DataExpressionInCacheByCID","KBStore","ExpressionInCache","expr","ParseExpression","GetData","loadBlock","manifest","wasm_response","arrayBuffer","buffer","huffmanTableResponse","huffmanTableRaw","huffmanTable","byteLength","datablockResponse","datablockRaw","datablock","WebAssembly","compile","module","instantiate","env","consoleLog","num","consoleLevelLog","consoleRightmostLog","instance","mm","exports","huffmanOffset","getHuffmanOffset","strBuf","memory","encodedDataOffset","get_encoded_data_offset","set_encoded_data_size","encodedDataBuf","decodeHuffman","offset","get_decoded_data_offset","get_decoded_data_size","outBuf","lookupBlock","theUrl","all","window","location","host","headers","then","response","json","StyledTree","Tree","state","nodes","getRootNodes","values","mani","content","target_id","setState","onSelect","tmp","rootNodes","File","selected","renderSelected","stringify","recipe","TreeWrapper","Render","rendered","file","decoded","TextDecoder","decode","StyledDataNode","dataNodeStyle","StyledDataProp","pre","dataPropStyle","DataExprWrapper","dataExprWrapperStyle","nodeIconStyle","NodeLabel","FitToParent","DataNode","requested","inCache","loaded","alreadyLoaded","refs","loadContent","bind","isInCache","myExpr","myRefs","React","createRef","renderContent","noDataExpr","indexOf","DataTreeWrapper","dataTreeStyle","DataComponent","data_exp","root","label","Demo","demos","App","isLocalhost","Boolean","hostname","match","register","config","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","contentType","status","unregister","reload","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74101174.chunk.js","sourcesContent":["const isBrowser = (typeof process === 'object' ? false : true);\r\n\r\nexport default class KBserver\r\n{\r\n\r\n    constructor(){\r\n    }\r\n\r\n    async GetDataExpressionByCID(cid)\r\n    {\r\n\r\n        try {\r\n            let jsondata = {};\r\n            if (isBrowser) {\r\n                jsondata = await fetch(process.env.API_URL+'search?cid='+cid);\r\n            }\r\n            else {\r\n                jsondata = require(__dirname+\"/db.json\");\r\n            }\r\n\r\n            if (jsondata == null) {\r\n                console.log(\"Fetching messed up.\")\r\n            }\r\n            else {\r\n                for ( var i in jsondata )\r\n                {\r\n                    let data = jsondata[i];\r\n\r\n                    if ( data.hasOwnProperty(\"cids\") )\r\n                    {\r\n                        let data_cids = data[\"cids\"];\r\n                        for ( var j in data_cids )\r\n                            if ( data_cids[j] == cid ) return Promise.resolve(data);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n        \r\n        console.log(\"Requested cid not found in fetched object, or something else went wrong\");\r\n        return Promise.resolve(null);\r\n\r\n    }\r\n\r\n    async GetRawDataByRef(ref)\r\n    {\r\n    let data = null;\r\n        try {\r\n            if (isBrowser) {\r\n                data = await fetch(process.env.API_URL + 'raw/' + ref);\r\n            } else {\r\n                data = require(__dirname + \"/files/\" + ref);\r\n            }\r\n            return Promise.resolve(new Uint8Array(data));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        \r\n        console.log(\"Raw data is null. Something wrong happened.\");\r\n        return Promise.resolve(data);\r\n    }\r\n}","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var map = {\n\t\"./file1.txt\": 81,\n\t\"./file2.txt\": 82\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 80;","module.exports = __webpack_public_path__ + \"static/media/file1.86c56c00.txt\";","module.exports = __webpack_public_path__ + \"static/media/file2.62ded210.txt\";","import React, { Component } from 'react';\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>You are home now.</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport { FaFile, FaFolder, FaFolderOpen, FaChevronDown, FaChevronRight } from 'react-icons/fa';\r\nimport styled from 'styled-components';\r\nimport keys from 'lodash/keys';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst getPaddingLeft = (level, type) => {\r\n  let paddingLeft = level * 20;\r\n  if (type === 'file') paddingLeft += 20;\r\n  return paddingLeft;\r\n}\r\n\r\nconst StyledTreeNode = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 5px 8px;\r\n  padding-left: ${props => getPaddingLeft(props.level, props.type)}px;\r\n  &:hover {\r\n    background: lightgray;\r\n  }\r\n`;\r\n\r\nconst NodeIcon = styled.div`\r\n  font-size: 12px;\r\n  margin-right: ${props => props.marginRight ? props.marginRight : 5}px;\r\n`;\r\n\r\nconst NodeProp = styled.div`\r\n  float: right;\r\n`;\r\n\r\nconst TreeNode = (props) => {\r\n  const { node, getChildNodes, level, onToggle, onNodeSelect, loc } = props;\r\n  const cNodes = getChildNodes(loc);\r\n  //console.log(cNodes);\r\n  if (cNodes['type'] == 'property') {\r\n    console.log(node);\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      \r\n      <StyledTreeNode level={level} type={node.type}>\r\n        {/* isOpen will always be false for properties, so it will never be triggered.\r\n            This is how we handle the base case for the recursive tree; that is, by \r\n            checking if the treeNode is open. */}\r\n        <NodeIcon onClick={() => onToggle(node)}>\r\n          { node.type == 'node' && (node.isOpen ? <FaChevronDown /> : <FaChevronRight />) }\r\n        </NodeIcon>\r\n        \r\n        <NodeIcon marginRight={10}>\r\n          { node.type === 'property' && <FaFile /> }\r\n          { node.type === 'node' && node.isOpen === true && <FaFolderOpen /> }\r\n          { node.type === 'node' && !node.isOpen && <FaFolder /> }\r\n        </NodeIcon>\r\n\r\n        <span role=\"button\" onClick={() => onNodeSelect(node)}>\r\n          { loc } \r\n        </span>\r\n        <NodeProp>\r\n          {node.type === 'property' ? \" = \" + node.val : ''}\r\n        </NodeProp>\r\n      </StyledTreeNode>\r\n      \r\n\r\n      { node.isOpen && keys(node).map((nkey) => (\r\n        <TreeNode getChildNodes={getChildNodes} onNodeSelect={onNodeSelect} onToggle={onToggle} node={cNodes[nkey]} level={level + 1} loc={nkey}/>\r\n      ))/*work needed here to complete kolmoblock recipe display logic!!! */}\r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nTreeNode.propTypes = {\r\n  node: PropTypes.any.isRequired,\r\n  getChildNodes: PropTypes.func.isRequired,\r\n  level: PropTypes.number.isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n  onNodeSelect: PropTypes.func.isRequired,\r\n  loc: PropTypes.any.isRequired,\r\n};\r\n\r\nTreeNode.defaultProps = {\r\n  level: 0,\r\n};\r\n\r\nexport default TreeNode;","import KBserver from '../Server/KBserver';\r\n\r\nexport default class KBcache\r\n{\r\n\r\n    constructor(){\r\n        this.KBserver = new KBserver();\r\n        this.ref_cache = new Map();\r\n        this.cid_cache = new Map();\r\n    }\r\n\r\n    GetDataExpressionByCID(cid)\r\n    {\r\n        let cached_data = this.cid_cache.get(cid);\r\n\r\n        if ( null == cached_data )\r\n        {\r\n            let server_data = this.KBserver.GetDataExpressionByCID(cid);\r\n            if ( null != server_data )\r\n            {\r\n                this.cid_cache.set(cid, server_data);\r\n                return server_data;\r\n            }\r\n        }\r\n\r\n        return cached_data;\r\n    }\r\n\r\n    GetRawDataByRef(ref)\r\n    {\r\n        let cached_data = this.ref_cache.get(ref);\r\n\r\n        if ( null == cached_data )\r\n        {\r\n            let server_data = this.KBserver.GetRawDataByRef(ref);\r\n            if ( null != server_data )\r\n            {\r\n                this.ref_cache.set(ref, server_data);\r\n                return server_data;\r\n            }\r\n        }\r\n\r\n        return cached_data;\r\n    }\r\n\r\n    DataExpressionInCacheByCID(cid)\r\n    {\r\n        let cached_data = this.cid_cache.get(cid);\r\n\r\n        if ( null == cached_data )\r\n            return false;\r\n        else\r\n            return true;\r\n    }\r\n\r\n    RawDataInCacheByRef(ref)\r\n    {\r\n        let cached_data = this.ref_cache.get(ref);\r\n\r\n        if ( null == cached_data )\r\n            return false;\r\n        else\r\n            return true;\r\n    }\r\n\r\n}","export default class KBWasm\r\n{\r\n    constructor(raw_wasm, args)\r\n    {\r\n        this.raw_wasm = raw_wasm;\r\n        this.args = args;\r\n    }\r\n    \r\n\r\n    Exec()\r\n    {\r\n        // hard coded implementstion of concat buffers\r\n        let count = 0;\r\n        let result = new Array();\r\n\r\n        for ( var i in this.args )\r\n        {\r\n            let arg = this.args[i];\r\n            for ( var j in arg )\r\n            {\r\n                if (( j == \"MIME\" ) || ( j == \"size\" ))\r\n                    continue;\r\n\r\n                result.push(arg[j]);\r\n                count++;\r\n            }\r\n        }\r\n        \r\n        result[\"MIME\"] = \"utf8/text\";\r\n        result[\"size\"] = count;\r\n\r\n        return result;\r\n    }\r\n}","import KBcache from './KBcache'\r\n\r\nimport  KBwasm from './KBwasm'\r\n\r\nexport default class KBstorage\r\n{\r\n    constructor()\r\n    {\r\n       // this.path = path;\r\n        console.log(KBcache);\r\n        this.cache = new KBcache();\r\n    }\r\n\r\n    GetData(data_expression)\r\n    {\r\n        console.log(data_expression);\r\n        try {\r\n            return Promise.resolve(this.ExecExpression(data_expression));\r\n        }catch(error){\r\n            console.log('Error parsing expression to JSON:\\n', error);\r\n        }\r\n\r\n        return Promise.resolve(null);\r\n    }\r\n\r\n    ExecExpression(expression)\r\n    {\r\n        if ( expression.hasOwnProperty(\"cid\") )\r\n            return this._cid(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"exec\") )\r\n            return this._exec(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"ref\") )\r\n            return this._ref(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"raw\") )\r\n            return this._raw(expression);\r\n\r\n        if ( expression.hasOwnProperty(\"seq\") )\r\n            return this._seq(expression);\r\n        \r\n        console.log(\"Not implemented for this type of expression\");\r\n        console.log(expression);\r\n\r\n        return null;\r\n    }\r\n\r\n    _cid(expression)\r\n    {\r\n        let data_by_cid = this.cache.GetDataExpressionByCID(expression[\"cid\"]);\r\n\r\n        let data_expressions = this.ExtractDataExpressions(data_by_cid);\r\n\r\n        if ( 0 == data_expressions.length )\r\n        {\r\n            console.log(\"Empty expressions list for \" + expression[\"cid\"]);\r\n            return null;\r\n        }\r\n\r\n        let exp_to_exec = this.ChooseExpression(data_expressions);\r\n        \r\n        return this.ExecExpression(exp_to_exec);\r\n    }\r\n\r\n    _exec(expression)\r\n    {\r\n        let exec = expression[\"exec\"]\r\n\r\n        if ( !exec.hasOwnProperty(\"wasm\") )\r\n        {\r\n            console.log(\"Expression exec does't contain wasm property\");\r\n            return null;\r\n        }\r\n        \r\n        let wasm = this.ExecExpression(exec[\"wasm\"]);\r\n        if ( null == wasm )\r\n        {\r\n            console.log(\"Expression exec has empty wasm\");\r\n            return null;\r\n        }\r\n\r\n        let args = new Array();\r\n\r\n        for ( var index in exec )\r\n        {\r\n            if ( \"wasm\" == index )\r\n                continue;\r\n            \r\n            let arg = this.ExecExpression(exec[index]);\r\n            if ( null == arg )\r\n            {\r\n                console.log(\"Expression exec has empty arg\");\r\n                return null;\r\n            }\r\n\r\n            args.push(arg);\r\n        }\r\n\r\n        let result = new KBwasm(wasm, args).Exec();\r\n\r\n        if ( null == result )\r\n        {\r\n            console.log(\"Wasm execution result is empty\");\r\n            return null;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _ref(expression)\r\n    {\r\n        let ref = expression[\"ref\"];\r\n\r\n        let result = this.cache.GetRawDataByRef(ref);\r\n\r\n        if ( null == result )\r\n        {\r\n            console.log(\"Expression ref is empty\");\r\n            return null;\r\n        }\r\n\r\n        result[\"MIME\"] = expression[\"MIME\"];\r\n        result[\"size\"] = expression[\"size\"];\r\n\r\n        return result;\r\n    }\r\n\r\n    _raw(expression)\r\n    {\r\n        let raw = expression[\"raw\"];\r\n\r\n        let utf8str = String(raw); // <-- utf8 string\r\n    \r\n        var result = new Array();\r\n\r\n        for ( var i=0; i < utf8str.length; i++ ) {\r\n\r\n            var charcode = utf8str.charCodeAt(i);\r\n            \r\n            result.push( charcode ); // ????\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _seq(expression)\r\n    {\r\n        let result = new Array();\r\n        let seq = expression[\"seq\"];\r\n\r\n        let MIME = expression[\"MIME\"];\r\n        let size = expression[\"size\"];\r\n\r\n        for ( var index in seq )\r\n        {\r\n            let expression = seq[index];\r\n            \r\n            let data_block = this.ExecExpression(expression);\r\n\r\n            if ( null == data_block )\r\n            {\r\n                console.log(\"Empty data in sequences\");\r\n                return null;\r\n            }\r\n\r\n            for ( var i in data_block )\r\n                result.push(data_block[i]);\r\n        }\r\n\r\n        result[\"MIME\"] = MIME;\r\n        result[\"size\"] = size;\r\n\r\n        return result;\r\n    }\r\n\r\n    ExtractDataExpressions(data_by_cid)\r\n    {\r\n        let result = new Array();\r\n        let MIME = data_by_cid[\"MIME\"];\r\n        let size = data_by_cid[\"size\"];\r\n\r\n        for ( var index in data_by_cid )\r\n        {\r\n            if (( \"cids\" == index ) || ( \"MIME\" == index ) ||( \"size\" == index ))\r\n                continue;\r\n            \r\n            let expression = data_by_cid[index];\r\n\r\n            expression[\"MIME\"] = MIME;\r\n            expression[\"size\"] = size;\r\n\r\n            if ( expression.hasOwnProperty(\"exec\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"ref\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"raw\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"cid\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"seq\") )\r\n            {\r\n                result.push(expression);\r\n                continue;\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    ChooseExpression(data_expressions)\r\n    {\r\n        // now it's always first\r\n        return data_expressions[0];\r\n    }\r\n\r\n    GetDataExpressionByCID(cid) {\r\n        return this.cache.GetDataExpressionByCID(cid);\r\n    }\r\n\r\n    ParseExpression(exp)\r\n    {\r\n        try{\r\n            let expression = JSON.parse(exp);\r\n\r\n            let result = new Object();\r\n\r\n            if ( expression.hasOwnProperty(\"cid\") )\r\n            {\r\n                let data_by_cid = this.cache.GetDataExpressionByCID(expression[\"cid\"]);\r\n                let data_expressions = this.ExtractDataExpressions(data_by_cid);\r\n                Object.keys(data_by_cid).forEach(function(key) {\r\n                    if (key.substr(0,15) != \"data_expression\") {\r\n                        result[key] = data_by_cid[key];\r\n                        console.log(key);\r\n                    }\r\n                    console.log(key);\r\n                })\r\n                console.log(result);\r\n                result['data_expressions'] = data_expressions;\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"exec\") )\r\n            {\r\n                let exec = expression[\"exec\"];\r\n                for ( var i in exec )\r\n                    result.push(exec[i]);\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"ref\") )\r\n            {\r\n                //let ref = expression[\"ref\"];\r\n                //result.push(ref);\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"raw\") )\r\n            {\r\n                let raw = expression[\"raw\"];\r\n                result.push(raw);\r\n            }\r\n\r\n            if ( expression.hasOwnProperty(\"seq\") )\r\n            {\r\n                let seq = expression[\"seq\"];\r\n                for ( var i in seq )\r\n                    result.push(seq[i]);\r\n            }\r\n\r\n            return result;\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    ExpressionInCache(expression)\r\n    {\r\n        try{\r\n\r\n            if ( expression.hasOwnProperty(\"ref\") )\r\n                return this.cache.RawDataInCacheByRef(expression[\"ref\"]);\r\n\r\n            if ( expression.hasOwnProperty(\"cid\") )\r\n                return this.cache.DataExpressionInCacheByCID(expression[\"cid\"]);\r\n                \r\n        }catch(error){\r\n            return false;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n}","import KBstorage from './proto/BrowserScript/KBstorage';\r\n\r\nconst KBStore = new KBstorage();\r\nconsole.log(KBStore);\r\n\r\nexport function ExpressionInCache(expr) {\r\n    return KBStore.ExpressionInCache(expr);\r\n}\r\n\r\nexport async function ParseExpression(expr) {\r\n    return await KBStore.ParseExpression(expr);\r\n}\r\n\r\n\r\nexport async function GetData(expr) {\r\n    return await KBStore.GetData(expr);\r\n};\r\n\r\nexport async function loadBlock(manifest) {\r\n    const wasm_response = await fetch('/raw/' + manifest['wasm_id']);\r\n    const buffer = await wasm_response.arrayBuffer();\r\n\r\n    const huffmanTableResponse = await fetch('/raw/' + manifest[\"encoding_table_id\"]);\r\n    const huffmanTableRaw = await huffmanTableResponse.arrayBuffer();\r\n    const huffmanTable = new Uint8Array(huffmanTableRaw, 0, huffmanTableRaw.byteLength);\r\n    console.log(\"serialized huffman-table size:\", huffmanTableRaw.byteLength);\r\n\r\n    const datablockResponse = await fetch('/raw/' + manifest[\"encoded_data\"]);\r\n    const datablockRaw = await datablockResponse.arrayBuffer();\r\n    const datablock = new Uint8Array(datablockRaw, 0, datablockRaw.byteLength);\r\n    console.log(\"serialized encoded data size:\", datablockRaw.byteLength);\r\n\r\n    const module = await WebAssembly.compile(buffer);\r\n    const instance = await WebAssembly.instantiate(module, {env:{\r\n        consoleLog: num => console.log(\"value is: \", num),\r\n        consoleLevelLog: num => console.log(\"level is:\", num),\r\n        consoleRightmostLog: num => console.log(\"rightmost is:\", num),\r\n    }});\r\n\r\n    var mm = instance.exports;\r\n    const huffmanOffset = mm.getHuffmanOffset();\r\n    const strBuf = new Uint8Array(mm.memory.buffer, huffmanOffset, huffmanTable.length);\r\n    for (let i=0; i < huffmanTable.length; i++) {\r\n      strBuf[i] = huffmanTable[i];\r\n    }\r\n    const encodedDataOffset = mm.get_encoded_data_offset();\r\n    console.log(\"the size of the encoded data is:\", datablock.byteLength);\r\n    console.log(\"the offset for encoded data is:\", encodedDataOffset);\r\n    mm.set_encoded_data_size(datablock.byteLength);\r\n    const encodedDataBuf = new Uint8Array(mm.memory.buffer, encodedDataOffset, datablock.byteLength);\r\n    for (let i=0; i < datablock.byteLength; i++) {\r\n      encodedDataBuf[i] = datablock[i];\r\n\t}\r\n\tmm.decodeHuffman();\r\n\r\n\tconst memory = mm.memory;\r\n\tconst offset = mm.get_decoded_data_offset();\r\n\tconst size = mm.get_decoded_data_size();\r\n  \r\n  \r\n\tconst outBuf = new Uint8Array(memory.buffer, offset, size);\r\n    return outBuf;\r\n}\r\n\r\n\r\nexport async function lookupBlock(cid='') {\r\n    let theUrl = (cid===''? '/search' : '/search?cid=');\r\n\r\n    return Promise.all([\r\n        fetch('http://'+window.location.host+theUrl, {\r\n            headers: {\r\n                'Content-Type':'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        }).then((response)=>response.json())// response format is fucked up - fix it!\r\n    ]);\r\n};\r\n\r\n// export function renderBlock(cid, kb, target) {\r\n//     var manifest = this.blocks[cid]['kolmoblocks'][kb];\r\n//     loadKolmoblock(manifest, $(target));\r\n// };","import React, { Component } from 'react';\r\nimport values from 'lodash/values';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TreeNode from './TreeNode';\r\nimport { lookupBlock } from '../store';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledTree = styled.div`\r\n  overflow: hidden;\r\n  overflow-y: scroll;\r\n  max-height: 50vh;\r\n`;\r\n\r\nexport default class Tree extends Component {\r\n\r\n  state = {\r\n    nodes: {},\r\n  };\r\n\r\n  // initial object population\r\n  async componentDidMount() {\r\n    try {\r\n      let nodes = {};\r\n      const tmp = await lookupBlock();\r\n      //lookupBlock().then(function(res) {\r\n        // object with keys same as CIDs of the manifests in /out/public\r\n        // fix this response format!!\r\n        tmp[0].forEach(function(val) {\r\n          nodes[val.target_id] = val;\r\n          nodes[val.target_id]['isOpen'] = false;\r\n          nodes[val.target_id]['type'] = 'node';\r\n        });\r\n\r\n        this.setState({nodes});\r\n      //});\r\n    } catch (error) {\r\n      console.log(\"err!\");\r\n    }\r\n  }\r\n\r\n  // recurrent object population\r\n  getRootNodes = () => {\r\n    const { nodes } = this.state;\r\n    return values(nodes);\r\n  }\r\n\r\n  // pressed: chevron\r\n  // parse down the node content to each property and node as objects\r\n  getChildNodes = (key) => {\r\n    const { nodes } = this.state;\r\n    let mani = nodes[key];\r\n    //console.log(mani);\r\n    let content = {};\r\n    if (mani) {\r\n      Object.keys(mani).forEach(function(nkey) {\r\n        if (nkey == 'kolmoblocks') {\r\n          content[nkey] = { // CHANGE THIS!\r\n            type: 'node',\r\n            isOpen: false,\r\n            val: mani['kolmoblocks']\r\n          }\r\n        }else{\r\n          content[nkey] = {\r\n            type: 'property',\r\n            isOpen: false,\r\n            val: mani[nkey]\r\n          }\r\n        }\r\n      })\r\n    }\r\n    return content;\r\n  }  \r\n\r\n  // pressed: chevron\r\n  // negates the isOpen property of selected node\r\n  onToggle = (node) => {\r\n    const { nodes } = this.state;\r\n    nodes[node.target_id].isOpen = !node.isOpen;\r\n    this.setState({ nodes });\r\n  }\r\n\r\n  // pressed: file name\r\n  // passes up to tree to view as raw json\r\n  onNodeSelect = node => {\r\n    const { onSelect } = this.props;\r\n    onSelect(node);\r\n  }\r\n\r\n  render() {\r\n    const rootNodes = this.getRootNodes();\r\n    return (\r\n      <StyledTree>\r\n        { rootNodes.map((node) => (\r\n          <TreeNode \r\n            node={node}\r\n            getChildNodes={this.getChildNodes}\r\n            onToggle={this.onToggle}\r\n            onNodeSelect={this.onNodeSelect}\r\n            loc={node['target_id']}\r\n          />\r\n        ))}\r\n      </StyledTree>\r\n    )\r\n  }\r\n}\r\n\r\nTree.propTypes = {\r\n  onSelect: PropTypes.func.isRequired,\r\n};","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport keys from 'lodash/keys';\r\nimport {loadBlock, lookupBlock} from '../store';\r\n\r\nconst File = (props) => {\r\n    const { selected, renderSelected } = props;\r\n    console.log(renderSelected);\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"card\">\r\n                <div id=\"file-options\" className=\"card-body\">\r\n                    <pre className=\"card-text text-left\">\r\n                        {JSON.stringify(selected, null, 2)}\r\n                    </pre>\r\n                    {/* Render dependent of existence of recipes*/}\r\n                    {selected['kolmoblocks'] ? \r\n                        keys(selected['kolmoblocks']).map((recipe, i) => \r\n                            <button type=\"button\" \r\n                                    className=\"btn btn-success m-1\"\r\n                                    onClick={() => renderSelected(selected['kolmoblocks'][recipe])}\r\n                                    >Render w/ Recipe {i}</button>) \r\n                        : <button type=\"button\" className=\"btn btn-warning\">No Recipes</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default File;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport Tree from './Tree';\r\nimport File from './File'\r\nimport {loadBlock, lookupBlock} from './../store';\r\n\r\nconst TreeWrapper = styled.div`\r\n  width: 400px;\r\n`;\r\n\r\nexport default class Render extends Component { \r\n  state = {\r\n    selected: null,\r\n    rendered: null\r\n  };\r\n\r\n  onSelect = (file) => {\r\n    this.setState({ selected: file });\r\n  }\r\n\r\n renderSelected = (recipe) => {\r\n   console.log(recipe);\r\n    loadBlock(recipe).then((data) => {\r\n      let decoded = new TextDecoder(\"utf-8\").decode(data);\r\n      console.log(decoded);\r\n      this.setState({rendered: decoded}, ()=>{console.log(\"state set\")});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selected, rendered } = this.state;\r\n    return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div id=\"rendered-content\" className=\"jumbotron\">\r\n            { rendered ? rendered : <h3>Rendered content will appear here</h3>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-5\" >\r\n          <TreeWrapper>\r\n            < Tree onSelect={this.onSelect} />\r\n          </TreeWrapper>\r\n        </div>\r\n        <div className=\"col-12 col-md-7\">\r\n          {selected && selected.type === 'node' ?\r\n            <File renderSelected={this.renderSelected} selected={selected}/>\r\n            : <h5>Select a file to view options</h5>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport styled from 'styled-components';\r\nimport {MdCloudDownload, MdCloudDone} from 'react-icons/md'; // possible failure in either\r\nimport {IoMdRemove, IoMdAdd} from 'react-icons/io'\r\nimport PropTypes from 'prop-types';\r\nimport { ExpressionInCache, ParseExpression } from '../store.js';\r\n\r\n    \r\nconst StyledDataNode = styled.div`\r\n    ${props => props.dataNodeStyle}\r\n`;\r\n\r\nconst StyledDataProp = styled.pre`\r\n    ${props => props.dataPropStyle}\r\n`;\r\n\r\nconst DataExprWrapper = styled.pre`\r\n    ${props => props.dataExprWrapperStyle}\r\n`;\r\n\r\nconst NodeIcon = styled.div`\r\n    ${props => props.nodeIconStyle}\r\n`;\r\n\r\nconst NodeLabel = styled.pre`\r\n    display: flex;\r\n    flex-direction: row;\r\n    width: 100%;\r\n`;\r\n\r\nconst FitToParent = styled.div`\r\n    display: block;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n`;\r\n\r\nclass DataNode extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            requested: false,\r\n            inCache: false, // ADD SOMETHING TO DETERMINE IN CACHE OR NOT\r\n            loaded: false,\r\n            alreadyLoaded: false,\r\n            expr: {\r\n                data_expressions:[]\r\n            },\r\n            refs: []\r\n        }\r\n        this.loadContent = this.loadContent.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let exp = \"{ \\\"cid\\\" : \\\"\" + this.props.cid + \"\\\" }\";\r\n        let isInCache = await ExpressionInCache(exp);\r\n        this.setState({inCache: isInCache});\r\n    }\r\n\r\n    async loadContent(cid) {\r\n        // more actions here\r\n        // populate expr, populate refs\r\n        if (this.state.alreadyLoaded && this.state.loaded) {\r\n            this.setState({loaded: false});\r\n        }\r\n        else {\r\n            if (!this.state.alreadyLoaded) {\r\n                try {\r\n                    let myExpr = await ParseExpression( \"{ \\\"cid\\\" : \\\"\" + cid + \"\\\" }\");\r\n                    let myRefs = [];\r\n\r\n                    myExpr['data_expressions'].forEach(function(val, key){\r\n                        myRefs[key] = React.createRef();\r\n                    })\r\n\r\n                    this.setState({refs: myRefs});\r\n                    this.setState({expr: myExpr});\r\n                    this.setState({loaded: true});\r\n                }\r\n                catch (error) {\r\n                    console.log(error);\r\n                }\r\n                this.setState({alreadyLoaded: true});\r\n            }\r\n            this.setState({loaded: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { cid, dataNodeStyle, dataPropStyle, nodeIconStyle, dataExprWrapperStyle, renderContent} = this.props;\r\n        \r\n        // data to send to the data properties component (not yet a separate component)\r\n        let noDataExpr = JSON.parse(JSON.stringify(this.state.expr));\r\n        delete noDataExpr['data_expressions'];\r\n        return (\r\n            <React.Fragment>\r\n                <StyledDataNode dataNodeStyle={dataNodeStyle}>\r\n                    <NodeLabel>\r\n                        <NodeIcon nodeIconStyle={nodeIconStyle} onClick={() => renderContent(cid)}>\r\n                            { this.state.inCache ? <MdCloudDone/> : <MdCloudDownload /> }\r\n                        </NodeIcon>\r\n                        <NodeIcon nodeIconStyle={nodeIconStyle} onClick={() => this.loadContent(cid)}>\r\n                            { this.state.loaded ? <IoMdRemove/> : <IoMdAdd/> }\r\n                        </NodeIcon>\r\n                        <FitToParent>\r\n                            {JSON.stringify(cid, null, 2)}\r\n                        </FitToParent>\r\n                    </NodeLabel>\r\n                    { this.state.loaded ? \"Properties: \" : \"\"}\r\n                    { this.state.loaded ? \r\n                    <StyledDataProp dataPropStyle={dataPropStyle}>\r\n                        {JSON.stringify(noDataExpr, null, 2)};\r\n                    </StyledDataProp> : \"\"}\r\n                    { this.state.loaded ? \"Dependencies: \" : \"\"}\r\n                    { this.state.loaded ? \r\n                    this.state.refs.map((ref) => (\r\n                        <DataExprWrapper dataExprWrapperStyle={dataExprWrapperStyle} ref={ref}>\r\n                            {JSON.stringify(this.state.expr['data_expressions'][this.state.refs.indexOf(ref)], null, 2)}\r\n                        </DataExprWrapper>\r\n                    ))\r\n                    : \"\" }\r\n                </StyledDataNode>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nDataNode.propTypes = {\r\n    inCache: PropTypes.bool,\r\n    requested: PropTypes.bool,\r\n    cid: PropTypes.string.isRequired,\r\n    dataNodeStyle: PropTypes.string,\r\n    dataPropStyle: PropTypes.string,\r\n    nodeIconStyle: PropTypes.string,\r\n    dataExprWrapperStyle: PropTypes.string\r\n}\r\n\r\nDataNode.defaultProps = {\r\n    inCache: false,\r\n    requested: false,\r\n    dataNodeStyle: \"display: flex; flex-direction: column;  border: 1px solid; text-align: left; text-sized: \",\r\n    dataPropStyle: \"overflow-y: hidden;  border: 1px solid;\",\r\n    nodeIconStyle: \"margin-right: 5px;\",\r\n    dataExprWrapperStyle: \"border: 1px solid;\"\r\n}\r\n\r\nexport default DataNode;"," import React, {Component} from 'react';\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport DataNode from './DataNode';\r\nimport { GetData, ParseExpression } from '../store.js';\r\n\r\nconst DataTreeWrapper = styled.div`\r\n    ${props => props.dataTreeStyle}\r\n`; \r\nexport default class DataComponent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rendered: null\r\n        }\r\n        this.renderContent = this.renderContent.bind(this);\r\n        \r\n    }\r\n    \r\n    \r\n    async renderContent(cid) {\r\n        // should render content with provided expression\r\n        // cycles? don't worry bout that yet\r\n        // this is only when expr == this.props.root.expr\r\n        try {\r\n            let data_exp = await ParseExpression( \"{ \\\"cid\\\" : \\\"\" + cid + \"\\\" }\");\r\n            let content = await GetData(data_exp['data_expressions'][1]);\r\n            this.setState({rendered: content})\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { dataTreeStyle, root } = this.props;\r\n        return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\"> \r\n                    <h5>label = {root.label}</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    <DataTreeWrapper dataTreeStyle={dataTreeStyle}>\r\n                        <DataNode cid={root.cid} renderContent={this.renderContent} />\r\n                    </DataTreeWrapper>\r\n                </div>\r\n                <div className=\"col-8\">\r\n                    <div id=\"rendered-content\" className=\"jumbotron\">\r\n                        { this.state.rendered ? this.state.rendered : <h5>Rendered content will appear here</h5>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nDataComponent.propTypes = {\r\n    root: PropTypes.object.isRequired,\r\n    dataTreeStyle: PropTypes.string\r\n}\r\n\r\nDataComponent.defaultProps = {\r\n    dataTreeStyle: \"max-width: 50vw;\"\r\n}","import React, { Component } from 'react';\r\nimport DataComponent from './DataComponent';\r\n\r\nclass Demo extends Component {\r\n    state = {\r\n      demos: [\r\n          {\r\n              label: 'Hello Banana',\r\n              cid: '7E1D8D6609499A1A5FB67C6B9E7DD34CF7C6C4355259115FC7161F47266F5F3C',\r\n          }\r\n      ]\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <DataComponent root={this.state.demos[0]}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Demo;","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport './App.css';\r\nimport Home from \"./components/Home.js\"\r\nimport Render from \"./components/Render.js\"\r\nimport Demo from \"./components/Demo.js\"\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App p-3\">\r\n        <header className=\"App-header\">\r\n          <h1>KolmoBlocks</h1>\r\n        </header>\r\n        <Router>\r\n          <div>\r\n            <div className=\"align-items-center p-2\">\r\n              <Link to=\"/\" className=\"btn\">Home</Link>\r\n              <Link to=\"/demo\" className=\"btn\">Demo</Link>\r\n              <Link to=\"/render\" className=\"btn\">Render</Link>\r\n            </div>\r\n            \r\n            <Route exact path=\"/\" component={Home}/>\r\n            <Route path=\"/demo\" component={Demo}/>\r\n            <Route path=\"/render\" component={Render}/>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// HORRIBLE, but works for now..\r\n// Will soon update with caching instead of variables\r\n// this.blocks = {\r\n//     _root: this,\r\n//     _label: 'blocks'\r\n// };\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}